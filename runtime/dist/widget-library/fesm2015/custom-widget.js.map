{"version":3,"file":"custom-widget.js","sources":["../../../../projects/gp-smart-echart-widget/src/lib/gp-smart-echart-widget.service.ts","../../../../projects/gp-smart-echart-widget/src/lib/util/extractValueFromJSON.util.ts","../../../../projects/gp-smart-echart-widget/src/lib/gp-smart-echart-widget.component.ts","../../../../projects/gp-smart-echart-widget/src/lib/preview-image.ts","../../../../projects/gp-smart-echart-widget/src/lib/model/config.modal.ts","../../../../projects/gp-smart-echart-widget/src/lib/smart-chart-config/smart-chart-config.component.ts","../../../../projects/gp-smart-echart-widget/src/lib/gp-smart-echart-widget.module.ts","../../../../projects/gp-smart-echart-widget/src/public-api.ts","../../../../projects/gp-smart-echart-widget/src/custom-widget.ts"],"sourcesContent":["/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GpSmartEchartWidgetService {\r\n\r\n  private httpHeaders: HttpHeaders = new HttpHeaders({\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    \r\n  });\r\n  \r\n  private options = {\r\n    headers: this.httpHeaders,\r\n    // params: new HttpParams().append('resolveIds', '' + true).append('tenantId', 'RACM')\r\n  }\r\n  token = 'bmVlcnUuYXJvcmFAc29mdHdhcmVhZy5jb206TWFuYWdlQDA5ODc=';\r\n  constructor(private http: HttpClient) { \r\n    this.httpHeaders.append(\"Authorization\", \"Bearer \" + this.token);\r\n  }\r\n  \r\n  public getAPIData(apiUrl): Observable<any>{\r\n    console.log('options',this.options);\r\n    // if(apiUrl.indexOf('smart-equipment.eu-latest.cumulocity.com')!=-1){\r\n    //   return this.http.get(apiUrl,this.options);\r\n    // } else {\r\n    return this.http.get(apiUrl);\r\n    // }\r\n\r\n    // const response = await this.fetchClient.fetch('service/datahub/dremio/api/v3/job/1e1826e5-0e7d-f38c-61b7-ce059c715700/results');\r\n\r\n    // const data = await response.json();\r\n    // return this.fetchClient.fetch('service/datahub/dremio/api/v3/job/1e1826e5-0e7d-f38c-61b7-ce059c715700/results');\r\n\r\n  }\r\n\r\n}\r\n","function isObject(obj) {\r\n    return Object.prototype.toString.call(obj) === '[object Object]';\r\n}\r\nexport function extractValueFromJSON(keyArr: Array<string> | string, parent: Record<string, any>) {\r\n    let keysArray = Array.isArray(keyArr) ? keyArr : [keyArr];\r\n    let resultArray = [];\r\n    \r\n    for (let keyStr of keysArray) {\r\n        const keys = keyStr.split('.');\r\n        let parentRef = parent;\r\n        \r\n        if(keys.length === 1){\r\n            resultArray.push(parentRef[keys[0]]);\r\n        } else {\r\n            let result;\r\n            for (let idx = 0; idx < keys.length; idx++) {\r\n                const key = keys[idx];\r\n                result = parentRef[key];\r\n                if (isObject(result)) {\r\n                    parentRef = result;\r\n                } else if (idx < keys.length - 1) {\r\n                }\r\n            }\r\n            resultArray.push(result);\r\n        }    \r\n        \r\n    }\r\n    if(keysArray.length > 1){\r\n        return resultArray.join(' ');\r\n    } \r\n    return resultArray[0];\r\n}\r\n\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport * as echarts from 'echarts';\r\nimport { EChartsOption } from 'echarts';\r\nimport { ChartConfig } from './model/config.modal';\r\nimport { GpSmartEchartWidgetService } from './gp-smart-echart-widget.service';\r\nimport { map } from 'rxjs/operators';\r\nimport * as simpleTransform from 'echarts-simple-transform';\r\nimport {\r\n  FetchClient,\r\n  Realtime,\r\n} from '@c8y/client';\r\nimport { extractValueFromJSON } from './util/extractValueFromJSON.util';\r\n@Component({\r\n  selector: 'lib-gp-smart-echart-widget',\r\n  templateUrl: './gp-smart-echart-widget.component.html',\r\n  styles: ['gp-smart-echart-widget.component.css']\r\n})\r\nexport class GpSmartEchartWidgetComponent implements OnInit {\r\n  @Input() config: ChartConfig;\r\n  // @Input() config: ChartConfig = {\r\n  //   xAxisDimension: \"PhoneSales\",\r\n  //   apiUrl: \"https://democenter.gateway.webmethodscloud.com/gateway/ConnectedStoreAPIs/1.0/ConnectedStoreAPIs/getQuarterlySales\",\r\n  //   legend: {\r\n  //     \"icon\": \"diamond\",\r\n  //     \"top\": \"10%\",\r\n  //     \"type\": \"scroll\"\r\n  //   },\r\n  //   listName: \"SalesData\",\r\n  //   title: \"TEST\",\r\n  //   dataSource: \"API\",\r\n  //   type: \"bar\",\r\n  //   layout: \"simpleBar\",\r\n  //   xAxis: \"category\",\r\n  //   yAxis: \"value\",\r\n  //   yAxisDimension: \"QuarterSales\",\r\n  //   radius: [],\r\n  //   stackList: [],\r\n  //   aggrList: [],\r\n  //   stack: '',\r\n  //   aggrArr: [],\r\n  //   addStack: false\r\n  // };\r\n  serviceData;\r\n  seriesData;\r\n  chartData;\r\n  userInput;\r\n  chartOption: EChartsOption = {};\r\n  protected allSubscriptions: any = [];\r\n  realtime = true;\r\n  deviceId = '';\r\n  isDatahubPostCall = false;\r\n  constructor(private chartService: GpSmartEchartWidgetService,\r\n    private realTimeService: Realtime, private fetchClient: FetchClient) { }\r\n  ngOnInit(): void {\r\n    // this.createChart(this.config);\r\n    // this.createChart();\r\n  }\r\n  dataFromUser(userInput: ChartConfig) {\r\n    this.createChart(userInput);\r\n  }// end of dataFromUser()\r\n  //create variables for all ChartConfig like value type, apidata from url etc to store the data from user\r\n  // create chart\r\n  reloadData(userInput: ChartConfig) {\r\n    this.createChart(userInput);\r\n  }\r\n  //createChart function is used to create chart with the help of echart library\r\n  async createChart(userInput?: ChartConfig) {\r\n    let chartDom = document.getElementById('chart-container');\r\n    let myChart = echarts.init(chartDom);\r\n    myChart.showLoading();\r\n    // let d = this.realtTimeMeasurements(6889031);\r\n    // const response = await this.fetchClient.fetch('service/datahub/dremio/api/v3/job/1e1826e5-0e7d-f38c-61b7-ce059c715700/results');\r\n    if (userInput.showApiInput) {\r\n      \r\n      this.serviceData = await this.chartService.getAPIData(userInput.apiUrl).toPromise();\r\n    } else if (userInput.showDatahubInput) {\r\n\r\n      const sqlReqObject = {\r\n        \"sql\": userInput.sqlQuery,\r\n        \"limit\": 100,\r\n        \"format\": \"PANDAS\"\r\n      };\r\n      const response = await this.fetchClient.fetch(userInput.apiUrl, {\r\n        body: JSON.stringify(sqlReqObject),\r\n        method: 'POST'\r\n      })\r\n      this.serviceData = await response.json();\r\n      this.isDatahubPostCall = true;\r\n    } else {\r\n      console.log('No Datasource selected')\r\n    }\r\n    if (this.serviceData) {\r\n      console.log('data from API', this.serviceData);\r\n      console.log('datahub post', this.isDatahubPostCall)\r\n      // }\r\n      // this.chartService.getAPIData(userInput.apiUrl).subscribe((response) => {\r\n      myChart.hideLoading();\r\n      // this.serviceData = response;\r\n      // this.serviceData = data;\r\n      console.log('userInput', userInput);\r\n      if (userInput.aggrList.length === 0 && !this.isDatahubPostCall) {\r\n        //calls for API without Aggregation\r\n        if (userInput.type === 'pie') {\r\n          this.seriesData = this.getPieChartSeriesData(userInput);\r\n          this.chartOption = {\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            xAxis: {\r\n              show: false,\r\n              data: this.serviceData[userInput.listName].map(function (item) {\r\n                return item[userInput.xAxisDimension];\r\n              }),\r\n            },\r\n            yAxis: {\r\n              type: 'value',\r\n            },\r\n            tooltip: {\r\n              trigger: 'item',\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          console.log('pie without aggr', this.chartOption)\r\n        }\r\n        // End of piechart for API\r\n        else if (userInput.type === 'polar') {\r\n          this.seriesData = this.getPolarChartSeriesData(userInput);\r\n          this.chartOption = {\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            polar: {},\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            angleAxis: {\r\n              type: 'value',\r\n              startAngle: 0\r\n            },\r\n            radiusAxis: {\r\n              min: 0\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          // console.log(\"NORMAL POLAR CHart Option \", this.chartOption)\r\n        }\r\n        // End of Polar CHart for API\r\n        else if (userInput.type === 'scatter') {\r\n          let xAxisObject, yAxisObject;\r\n          if (userInput.layout === 'horizontalScatter') {\r\n            xAxisObject = {\r\n              name: this.getFormattedName(userInput.xAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              type: this.getXAxisType(userInput)\r\n            };\r\n            yAxisObject = {\r\n              name: this.getFormattedName(userInput.yAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              data: this.serviceData[userInput.listName].map(function (item) {\r\n                return item[userInput.yAxisDimension];\r\n              }),\r\n              type: this.getYAxisType(userInput)\r\n            };\r\n          } else {\r\n            xAxisObject = {\r\n              name: this.getFormattedName(userInput.xAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              data: this.serviceData[userInput.listName].map(function (item) {\r\n                return item[userInput.xAxisDimension];\r\n              }),\r\n              type: this.getXAxisType(userInput)\r\n            };\r\n            yAxisObject = {\r\n              name: this.getFormattedName(userInput.yAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              type: this.getYAxisType(userInput)\r\n            };\r\n          }\r\n          this.seriesData = this.getScatterChartSeriesData(userInput);\r\n\r\n          this.chartOption = {\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            xAxis: xAxisObject,\r\n            yAxis: yAxisObject,\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: userInput.boxZoom,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            legend:{\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            series: this.seriesData\r\n          }\r\n          console.log('scatter option', this.chartOption)\r\n        } //End of Scatter Chart for API\r\n        else if (userInput.type === 'radar') {\r\n          this.seriesData = this.getRadarSeriesData(userInput);\r\n          this.chartOption = {\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            tooltip: {\r\n              trigger: 'item',\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            radar: {\r\n              indicator: this.serviceData[userInput.listName].map(function (item) {\r\n                return { name: item[userInput.xAxisDimension] };\r\n              }),\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          console.log(this.chartOption)\r\n        } // End of Radar CHart for API\r\n        else if ((userInput.type === 'line' || userInput.type === 'bar') && (userInput.layout != 'simpleHorizontalBar' && userInput.layout != 'stackedHorizontalBar')) {\r\n          this.seriesData = this.getSeriesData(userInput);\r\n          let xAxisName,yAxisName;\r\n          if(userInput.xAxisDimension.split(',').length>1){\r\n            xAxisName = ''\r\n          }else {\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension)\r\n          }\r\n          if(userInput.yAxisDimension.split(',').length>1){\r\n            yAxisName = ''\r\n          }else {\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension)\r\n          }\r\n          this.chartOption = {\r\n            title: {\r\n              text: userInput.title,\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            xAxis: {\r\n              data: this.serviceData[userInput.listName].map(function (item) {\r\n                return item[userInput.xAxisDimension];\r\n              }),\r\n              type: this.getXAxisType(userInput),\r\n              name:xAxisName\r\n            },\r\n            yAxis: {\r\n              type: this.getYAxisType(userInput),\r\n              name:yAxisName\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: userInput.boxZoom,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          };\r\n          console.log('Simple bar or line', this.chartOption)\r\n        }\r\n        // End of Simple Line,Simple Bar,Stacked Line And Stacked Bar for API\r\n        else if (userInput.type === 'bar' && (userInput.layout === 'simpleHorizontalBar' || userInput.layout === 'stackedHorizontalBar')) {\r\n          console.log('horizontal chart chosen!!', userInput.aggrList.length);\r\n          let xAxisName,yAxisName;\r\n          if(userInput.xAxisDimension.split(',').length>1){\r\n            xAxisName = ''\r\n          }else {\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension)\r\n          }\r\n          if(userInput.yAxisDimension.split(',').length>1){\r\n            yAxisName = ''\r\n          }else {\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension)\r\n          }\r\n          this.seriesData = this.getHorizontalSeriesData(userInput);\r\n          this.chartOption =\r\n          {\r\n            title: {\r\n              text: userInput.title,\r\n              left: 'center',\r\n              textStyle: {\r\n                overflow: 'truncate',\r\n              }\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              show: true,\r\n              icon: userInput.legend.icon,\r\n              orient: 'horizontal',\r\n              top: '10%',\r\n              formatter: function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                return a;\r\n              },\r\n              type: 'scroll',\r\n              // userInput.legend.orient,\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            xAxis: {\r\n              name: xAxisName,\r\n              // nameLocation: 'middle',\r\n              // nameGap: 50,\r\n              type: this.getXAxisType(userInput),\r\n            },\r\n            yAxis: {\r\n              name: yAxisName,\r\n              // nameLocation: 'middle',\r\n              // nameGap: 150,\r\n              type: this.getYAxisType(userInput),\r\n              data: this.serviceData[userInput.listName].map(function (item) {\r\n                const val = extractValueFromJSON(userInput.yAxisDimension, item);\r\n                return val;\r\n              }),\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n          };\r\n          console.log('horizontal chart options', this.chartOption)\r\n        }\r\n        // End of Horizontal Bar & Stacked Horizontal Bar\r\n      } // End of API calls with JSON Response without Aggregation\r\n      else if (userInput.aggrList.length === 0 && this.isDatahubPostCall) {\r\n        // calls for Datahub without Aggregation\r\n        const resultDimension = this.getResultDimesions(userInput.aggrList, userInput.groupBy);\r\n        console.log('resultDeimenions', resultDimension)\r\n        let dimensions = [];\r\n        let encodeData;\r\n        const datasetId = null;\r\n        // Format of Data from datahub is \r\n        // Result:[\r\n        //   \"columns\":['colA','colB',...,'colN'],\r\n        //   \"data\":[\r\n        //     [\"A1\",\"B1\",...,\"N1\"],\r\n        //     [\"A2\",\"B2\",...,\"N2\"],\r\n        //     ...,\r\n        //     [\"AN\",\"BN\",...,\"NN\"]\r\n        //   ]\r\n        // ]\r\n        // source of Dataset should be [[columns],[datarows]]\r\n        this.serviceData = [this.serviceData.columns, ...this.serviceData.data]\r\n        //End of Response Data extraction\r\n        console.log('Extracted Service Data', this.serviceData);\r\n        if (userInput.type === 'bar' || userInput.type === 'line') {\r\n          dimensions = this.getDatasetDimensions(userInput);\r\n          let yDimensions, xDimensions;\r\n          let yAxisName='',xAxisName='';\r\n\r\n          // if (userInput.type === 'bar' || userInput.type === 'line') {\r\n          if (userInput.yAxisDimension.split(',').length === 1) {\r\n            yDimensions = userInput.yAxisDimension;\r\n            dimensions.push(yDimensions);\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n\r\n          } else {\r\n            yDimensions = userInput.yAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...yDimensions];\r\n            yAxisName = '';\r\n          }\r\n          if (userInput.xAxisDimension.split(',').length === 1) {\r\n            xDimensions = userInput.xAxisDimension;\r\n            dimensions.push(xDimensions);\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n\r\n          } else {\r\n            xDimensions = userInput.xAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...xDimensions];\r\n            xAxisName = '';\r\n          }\r\n          if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n            dimensions.push(userInput.groupBy)\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                // dimensions: dimensions,\r\n                source: this.serviceData\r\n              }\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            xAxis: {\r\n              name: userInput.xAxisDimension,\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              scale: true,\r\n              type: this.getXAxisType(userInput),\r\n            },\r\n            yAxis: {\r\n              type: this.getYAxisType(userInput),\r\n              //   axisLine: {\r\n              //     onZero: false // This is important, so x axis can start from non-zero number\r\n              // },\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                },\r\n                saveAsImage: {},\r\n                restore: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          console.log('encode data', encodeData);\r\n          console.log('datahub bar without aggregation', this.chartOption);\r\n        } // End of Bar,Line Chart without Aggregation for Datahub\r\n        else if (userInput.type === 'scatter') {\r\n          dimensions = this.getDatasetDimensions(userInput);\r\n          if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n            dimensions.push(userInput.groupBy)\r\n          }\r\n          let xAxisName='',yAxisName='';\r\n          if(userInput.xAxisDimension.split(',').length > 1){\r\n            xAxisName = '';\r\n          } else{\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n\r\n          }\r\n          if(userInput.yAxisDimension.split(',').length > 1){\r\n            yAxisName = '';\r\n          \r\n          }else{\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                // dimensions: dimensions,\r\n                source: this.serviceData\r\n              }\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            xAxis: {\r\n              name: xAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 50,\r\n              type: this.getXAxisType(userInput)\r\n              // data: this.serviceData[userInput.listName].map(function (item) {\r\n              //   return item[userInput.xAxisDimension];\r\n              // }),\r\n            },\r\n            yAxis: {\r\n              name: yAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              type: this.getYAxisType(userInput)\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          }\r\n          console.log('scatter option transformation', this.chartOption)\r\n        } //End of Scatter Chart without Aggregation for Datahub\r\n        else if (userInput.type === 'pie') {\r\n          dimensions = [userInput.pieSlicenName, userInput.pieSliceValue];\r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                // dimensions: dimensions,\r\n                source: this.serviceData\r\n              },\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            tooltip: {\r\n              trigger: \"item\",\r\n              confine: true\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',  left: 'left',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n        } // End of Pie chart without Aggregation for Datahub\r\n        else if (userInput.type === 'polar') {\r\n          let yDimensions, xDimensions;\r\n          if (userInput.yAxisDimension.split(',').length === 1) {\r\n            yDimensions = userInput.yAxisDimension;\r\n            dimensions.push(yDimensions);\r\n          } else {\r\n            yDimensions = userInput.yAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...yDimensions];\r\n          }\r\n          if (userInput.xAxisDimension.split(',').length === 1) {\r\n            xDimensions = userInput.xAxisDimension;\r\n            dimensions.push(xDimensions);\r\n          } else {\r\n            xDimensions = userInput.xAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...xDimensions];\r\n          }\r\n          if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n            dimensions.push(userInput.groupBy)\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                // dimensions: dimensions,\r\n                source: this.serviceData\r\n              },\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            // legend: {},\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            \r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            angleAxis: {\r\n              type: 'value',\r\n              startAngle: 0\r\n            },\r\n            radiusAxis: {\r\n              min: 0\r\n            },\r\n\r\n            polar: {},\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',  left: 'left',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          // console.log(\"Aggregate POLAR CHart Option \", this.chartOption)\r\n        }  // End of Polar Chart Without Aggregation for Datahub\r\n        else if (userInput.type === 'radar') {\r\n          dimensions = [...userInput.radarDimensions];\r\n          this.seriesData = this.getRadarSeriesData(userInput);\r\n          let indexOfXDimension = this.serviceData[0].indexOf(userInput.xAxisDimension);\r\n          let indicatorData = [];\r\n          for (let i = 1; i < this.serviceData.length; i++) {\r\n            indicatorData.push({ name: this.serviceData[i][indexOfXDimension] });\r\n          }\r\n          // encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',  left: 'left',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            tooltip: {\r\n              trigger: 'item',\r\n            },\r\n            radar: {\r\n              indicator: indicatorData\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          console.log('datahub radar without aggregation', this.chartOption)\r\n        } // End of Radar Chart without Aggregation for Datahub\r\n      } // ENd of Datahub Calls Response without Aggregation\r\n      else if (userInput.aggrList.length > 0) {\r\n        // calls for API & Datahub with Aggregation\r\n        echarts.registerTransform(simpleTransform.aggregate);\r\n        const resultDimension = this.getResultDimesions(userInput.aggrList, userInput.groupBy);\r\n        console.log('resultDeimenions', resultDimension)\r\n        let dimensions = [];\r\n        let encodeData;\r\n        const datasetId = '_aggregate';\r\n        // Extract the service data based on the response type of wthere call is made to Datahub or Other API\r\n        if (this.isDatahubPostCall) {\r\n          // Format of Data from datahub is \r\n          // Result:[\r\n          //   \"columns\":['colA','colB',...,'colN'],\r\n          //   \"data\":[\r\n          //     [\"A1\",\"B1\",...,\"N1\"],\r\n          //     [\"A2\",\"B2\",...,\"N2\"],\r\n          //     ...,\r\n          //     [\"AN\",\"BN\",...,\"NN\"]\r\n          //   ]\r\n          // ]\r\n          // source of Dataset should be [[columns],[datarows]]\r\n          this.serviceData = [this.serviceData.columns, ...this.serviceData.data]\r\n        } else {\r\n          // Format of Data from APi calls is JSON object with key,value\r\n          // Result: [\r\n          //   {\r\n          //     \"key1\": \"val1\",\r\n          //     \"key2\": \"val2\",\r\n          //   },\r\n          //   {\r\n          //     \"key1\": \"val1.1\",\r\n          //     \"key2\": \"val2.1\",\r\n          //   }\r\n          // ]\r\n          this.serviceData = this.serviceData[userInput.listName];\r\n        } //End of Response Data extraction\r\n        console.log('Extracted Service Data', this.serviceData)\r\n        if (userInput.type === 'bar' || userInput.type === 'line') {\r\n          // dimensions = this.getDatasetDimensions(userInput);\r\n          let yDimensions, xDimensions;\r\n          let xAxisName='',yAxisName='';\r\n\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            if (userInput.yAxisDimension.split(',').length === 1) {\r\n              yDimensions = userInput.yAxisDimension;\r\n              dimensions.push(yDimensions);\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n\r\n            } else {\r\n              yDimensions = userInput.yAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...yDimensions];\r\n            yAxisName = '';\r\n\r\n            }\r\n            if (userInput.xAxisDimension.split(',').length === 1) {\r\n              xDimensions = userInput.xAxisDimension;\r\n              dimensions.push(xDimensions);\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n\r\n            } else {\r\n              xDimensions = userInput.xAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...xDimensions];\r\n            xAxisName = '';\r\n\r\n            }\r\n            if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n              dimensions.push(userInput.groupBy)\r\n            }\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions: dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions:\r\n                        resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            xAxis: {\r\n              name: xAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              scale: true,\r\n              type: this.getXAxisType(userInput),\r\n            },\r\n            yAxis: {\r\n              type: this.getYAxisType(userInput),\r\n              name: yAxisName\r\n              //   axisLine: {\r\n              //     onZero: false // This is important, so x axis can start from non-zero number\r\n              // },import { element } from 'protractor';\r\n\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                },\r\n                saveAsImage: {},\r\n                restore: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          console.log('encode data', encodeData);\r\n          console.log('aggregate bar', this.chartOption);\r\n        } //End of Bar,Line Chart with Aggregation for datahub and API\r\n        else if (userInput.type === 'scatter') {\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            dimensions = this.getDatasetDimensions(userInput);\r\n            if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n              dimensions.push(userInput.groupBy)\r\n            }\r\n          }\r\n          let xAxisName='',yAxisName='';\r\n          if(userInput.xAxisDimension.split(',').length > 1){\r\n            xAxisName = '';\r\n          } else{\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n\r\n          }\r\n          if(userInput.yAxisDimension.split(',').length > 1){\r\n            yAxisName = '';\r\n          \r\n          }else{\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n\r\n          }\r\n \r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions: dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions: resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            xAxis: {\r\n              name: xAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 50,\r\n              type: this.getXAxisType(userInput)\r\n              // data: this.serviceData[userInput.listName].map(function (item) {\r\n              //   return item[userInput.xAxisDimension];\r\n              // }),\r\n            },\r\n            yAxis: {\r\n              name: yAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              type: this.getYAxisType(userInput)\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              top: '10%',\r\n              type: 'scroll',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          }\r\n          console.log('scatter option transformation', this.chartOption)\r\n        } //End of Scatter Chart with Aggregation for datahub and API\r\n        else if (userInput.type === 'pie') {\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            dimensions = [userInput.pieSlicenName, userInput.pieSliceValue];\r\n\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions: dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions:\r\n                        resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            tooltip: {\r\n              trigger: \"item\",\r\n              confine: true\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              selected: { detail: false },\r\n              type: 'scroll',\r\n              icon: userInput.legend.icon,\r\n              left: 'left',\r\n              top: '10%',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n           \r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n        } //End of Pie Chart with Aggregation for datahub and API\r\n        else if (userInput.type === 'polar') {\r\n          let yDimensions, xDimensions;\r\n\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            if (userInput.yAxisDimension.split(',').length === 1) {\r\n              yDimensions = userInput.yAxisDimension;\r\n              dimensions.push(yDimensions);\r\n            } else {\r\n              yDimensions = userInput.yAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...yDimensions];\r\n            }\r\n            if (userInput.xAxisDimension.split(',').length === 1) {\r\n              xDimensions = userInput.xAxisDimension;\r\n              dimensions.push(xDimensions);\r\n            } else {\r\n              xDimensions = userInput.xAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...xDimensions];\r\n            }\r\n            if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n              dimensions.push(userInput.groupBy)\r\n            }\r\n          }\r\n\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions: dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions:\r\n                        resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            title: {\r\n              text: userInput.title\r\n            },\r\n            // legend: {},\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            angleAxis: {\r\n              type: 'value',\r\n              startAngle: 0\r\n            },\r\n            radiusAxis: {\r\n              min: 0\r\n            },\r\n            polar: {},\r\n            legend: {\r\n              selected: { detail: false },\r\n              type: 'scroll',\r\n              icon: userInput.legend.icon,\r\n              left: 'left',\r\n              top: '10%',\r\n              formatter:function (name) {\r\n                let test = name.split('.').slice(-1);\r\n                let a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, function (str) { return str.toUpperCase(); })\r\n                    a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          // console.log(\"Aggregate POLAR CHart Option \", this.chartOption)\r\n        }  // End of Polar Chart with Aggregation for datahub and API\r\n        // else if (userInput.type === 'radar') {\r\n        //   // this code will not work as Apache does not support aggregation with radar\r\n        //   if (this.isDatahubPostCall) {\r\n        //     dimensions = null;\r\n        //   } else {\r\n        //     dimensions = [...userInput.radarDimensions];\r\n\r\n        //   }\r\n\r\n        //   encodeData = this.getEncodeData(userInput, datasetId);\r\n        //   this.chartOption = {\r\n        //     dataset: [\r\n        //       {\r\n        //         id: 'raw_data',\r\n        //         dimensions: dimensions,\r\n        //         source: this.serviceData\r\n        //       },\r\n        //       {\r\n        //         id: '_aggregate',\r\n        //         fromDatasetId: 'raw_data',\r\n        //         transform: [\r\n        //           {\r\n        //             type: 'ecSimpleTransform:aggregate',\r\n        //             config: {\r\n        //               resultDimensions:\r\n        //                 resultDimension,\r\n        //               groupBy: userInput.groupBy\r\n        //             },\r\n        //             print: true\r\n        //           }\r\n        //         ]\r\n        //       }\r\n        //     ],\r\n        //     legend: {\r\n        //       icon: userInput.legend.icon,\r\n        //       width: 330,\r\n        //       type: 'scroll'\r\n        //     },\r\n        //     tooltip: {\r\n        //       trigger: 'item',\r\n        //     },\r\n        //     radar: {\r\n        //       indicator: this.serviceData[userInput.listName].map(function (item) {\r\n        //         return { name: item[userInput.xAxisDimension] };\r\n        //       }),\r\n        //     },\r\n        //     series: this.seriesData,\r\n        //     toolbox: {\r\n        //       feature: {\r\n        //         saveAsImage: {}\r\n        //       }\r\n        //     }\r\n        //   }\r\n        // } // End of Radar Chart with Aggregation for datahub and API\r\n      }  // End of calls for API & Datahub with Aggregation\r\n      // End of chartOptions\r\n      // })\r\n    } // End of IF condition checking whether variable serviceData has some data or not\r\n  }\r\n  getXAxisType(input) {\r\n    return input.xAxis;\r\n  }\r\n  getYAxisType(input) {\r\n    return input.yAxis;\r\n  }\r\n  getChartType(input) {\r\n    return input.type;\r\n  }\r\n  getFormattedName(input) {\r\n    let test = input.split('.').slice(-1);\r\n    let a = test[0].replace(/([A-Z])/g, ' $1')\r\n      // uppercase the first character\r\n      .replace(/^./, function (str) { return str.toUpperCase(); })\r\n    return a.trim();\r\n  }\r\n  getEncodeData(userInput, datasetId?, xDimensions?, yDimensions?) {\r\n    if (userInput.type === \"polar\") {\r\n      return [{\r\n        coordinateSystem: 'polar',\r\n        name: userInput.xAxisDimension,\r\n        type: userInput.layout,\r\n        showSymbol: true,\r\n        encode: {\r\n          radius: userInput.yAxisDimension,\r\n          angle: userInput.xAxisDimension,\r\n          tooltip: [userInput.yAxisDimension, userInput.xAxisDimension]\r\n        },\r\n        label: {\r\n          show: userInput.showLabel\r\n        },\r\n        emphasis: {\r\n          label: {\r\n            show: true\r\n          },\r\n        },\r\n      }]\r\n    }\r\n    else if (userInput.type === 'scatter') {\r\n      if (userInput.layout === 'horizontalScatter') {\r\n        if (userInput.xAxisDimension.split(',').length === 1) {\r\n          return [{\r\n            // name: userInput.xAxisDimension,\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            datasetId: datasetId,\r\n            encode: {\r\n              y: userInput.yAxisDimension,\r\n              x: userInput.xAxisDimension,\r\n              tooltip: [userInput.xAxisDimension, userInput.yAxisDimension]\r\n            },\r\n          }]\r\n        } else {\r\n          const xAxisDimensions = userInput.xAxisDimension.split(',');\r\n          let xAxisData = [];\r\n          for (let i in xAxisDimensions) {\r\n            xAxisData[i] = {\r\n              type: userInput.type,\r\n              symbolSize: userInput.scatterSymbolSize,\r\n              datasetId: datasetId,\r\n              encode: {\r\n                y: userInput.yAxisDimension,\r\n                x: xAxisDimensions[i],\r\n                tooltip: [xAxisDimensions[i], userInput.yAxisDimension]\r\n              },\r\n              label: {\r\n                show: userInput.showLabel\r\n              },\r\n              emphasis: {\r\n                focus: 'series',\r\n                label: {\r\n                  show: true\r\n                },\r\n                itemStyle: {\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              },\r\n            }\r\n          }\r\n          return xAxisData;\r\n        }// End of else part of XAxisDimension\r\n      } else {\r\n        if (userInput.yAxisDimension.split(',').length === 1) {\r\n          return [{\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            datasetId: datasetId,\r\n            encode: {\r\n              y: userInput.yAxisDimension,\r\n              x: userInput.xAxisDimension,\r\n              tooltip: [userInput.xAxisDimension, userInput.yAxisDimension]\r\n            },\r\n            label: {\r\n              show: userInput.showLabel\r\n            },\r\n            emphasis: {\r\n              focus: 'series',\r\n              label: {\r\n                show: true\r\n              },\r\n              itemStyle: {\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            },\r\n          }]\r\n        } else {\r\n          const yAxisDimensions = userInput.yAxisDimension.split(',');\r\n          let yAxisData = [];\r\n          for (let i in yAxisDimensions) {\r\n            yAxisData[i] = {\r\n              type: userInput.type,\r\n              symbolSize: userInput.scatterSymbolSize,\r\n              datasetId: datasetId,\r\n              encode: {\r\n                y: userInput.yAxisDimension,\r\n                x: yAxisDimensions[i],\r\n                tooltip: [yAxisDimensions[i], userInput.yAxisDimension]\r\n              },\r\n              label: {\r\n                show: userInput.showLabel\r\n              },\r\n              emphasis: {\r\n                focus: 'series',\r\n                label: {\r\n                  show: true\r\n                },\r\n                itemStyle: {\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              },\r\n            }\r\n          }\r\n          return yAxisData;\r\n        }// End of else part of YAxisDimension\r\n      }\r\n\r\n      // return [{\r\n      //   // name: userInput.xAxisDimension,\r\n      //   type: userInput.type,\r\n      //   symbolSize: userInput.scatterSymbolSize,\r\n      //   datasetId: datasetId,\r\n      //   encode: {\r\n      //     y: userInput.yAxisDimension,\r\n      //     x: userInput.xAxisDimension,\r\n      //     tooltip: [userInput.xAxisDimension, userInput.yAxisDimension]\r\n      //   },\r\n      // }]\r\n    }\r\n    else if (userInput.type === 'radar') {\r\n      const dimensions = userInput.radarDimensions.split(',');\r\n      const dimensionRecord = dimensions.reduce((acc, dimension) => {\r\n        acc[dimension] = [];\r\n        return acc;\r\n      }, {});\r\n      this.serviceData[userInput.listName].map(function (item) {\r\n        Object.keys(item).forEach(key => {\r\n          if (dimensionRecord[key]) {\r\n            dimensionRecord[key].push(item[key])\r\n          }\r\n        });\r\n      });\r\n      let resultARR = Object.values(dimensionRecord)\r\n      const result1 = Object.keys(dimensionRecord).map(key => ({\r\n        name: key,\r\n        value: dimensionRecord[key]\r\n      }));\r\n      return [{\r\n        name: userInput.listName,\r\n        type: 'radar',\r\n        data: result1\r\n      }]\r\n    }\r\n    else if (userInput.type === \"bar\" && (userInput.layout === 'simpleBar' || userInput.layout === 'stackedBar')) {\r\n      if (userInput.yAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          datasetId: datasetId,\r\n          // stack:'a',\r\n          name: yDimensions,\r\n          encode: {\r\n            x: xDimensions,\r\n            y: yDimensions\r\n            // itemName: ['productName']\r\n          }\r\n        }];\r\n      } else {\r\n        let yAxisData = [];\r\n        for (let i in yDimensions) {\r\n          yAxisData[i] = {\r\n            type: userInput.type,\r\n            datasetId: datasetId,\r\n            stack: this.getStackName(userInput.stack, yDimensions[i]),\r\n            name: yDimensions[i],\r\n            encode: {\r\n              x: xDimensions,\r\n              y: yDimensions[i]\r\n              // itemName: ['productName']\r\n            }\r\n          }\r\n        } //end of for block\r\n        return yAxisData;\r\n      }\r\n    }\r\n    else if (userInput.type === \"bar\" && (userInput.layout === 'simpleHorizontalBar' || userInput.layout === 'stackedHorizontalBar')) {\r\n      if (userInput.xAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          datasetId: datasetId,\r\n          // stack:'a',\r\n          name: xDimensions,\r\n          encode: {\r\n            x: xDimensions,\r\n            y: yDimensions\r\n            // itemName: ['productName']\r\n          }\r\n        }];\r\n      } else {\r\n        let xAxisData = [];\r\n        for (let i in xDimensions) {\r\n          xAxisData[i] = {\r\n            type: userInput.type,\r\n            datasetId: datasetId,\r\n            stack: this.getStackName(userInput.stack, xDimensions[i]),\r\n            name: xDimensions[i],\r\n            encode: {\r\n              x: xDimensions[i],\r\n              y: yDimensions\r\n              // itemName: ['productName']\r\n            }\r\n          }\r\n        } //end of for block\r\n        return xAxisData;\r\n      }\r\n    }\r\n    else if (userInput.type === \"line\") {\r\n      if (userInput.yAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          datasetId: datasetId,\r\n          smooth: userInput.smoothLine,\r\n          areaStyle: userInput.area,\r\n          // stack:'a',\r\n          name: yDimensions,\r\n          encode: {\r\n            x: xDimensions,\r\n            y: yDimensions\r\n            // itemName: ['productName']\r\n          }\r\n        }];\r\n      } else {\r\n        let yAxisData = [];\r\n        for (let i in yDimensions) {\r\n          yAxisData[i] = {\r\n            type: userInput.type,\r\n            datasetId: datasetId,\r\n            smooth: userInput.smoothLine,\r\n            areaStyle: userInput.area,\r\n            name: yDimensions[i],\r\n            encode: {\r\n              x: xDimensions,\r\n              y: yDimensions[i]\r\n              // itemName: ['productName']\r\n            }\r\n          }\r\n        } //end of for block\r\n        return yAxisData;\r\n      }\r\n    }\r\n    else if (userInput.type === \"pie\") {\r\n      let convradius = userInput.radius.split(',');\r\n      let roseValue = ''; let sliceStyle;\r\n      if (userInput.layout === 'roseMode') {\r\n        roseValue = 'rose';\r\n      }\r\n      if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius === undefined) {\r\n        sliceStyle = {};\r\n      } else if (userInput.pieBorderWidth > 0 && userInput.pieBorderRadius === undefined) {\r\n        sliceStyle = {\r\n          borderColor: '#fff',\r\n          borderWidth: userInput.pieBorderWidth\r\n        }\r\n      } else if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius > 0) {\r\n        sliceStyle = {\r\n          borderRadius: userInput.pieBorderRadius\r\n        }\r\n      } else {\r\n        sliceStyle = {\r\n          borderRadius: userInput.pieBorderRadius,\r\n          borderColor: '#fff',\r\n          borderWidth: userInput.pieBorderWidth\r\n        }\r\n      }\r\n      return [{\r\n        type: userInput.type,\r\n        datasetId: datasetId,\r\n        radius: convradius,\r\n        roseType: roseValue,\r\n        avoidLabelOverlap: false,\r\n        label: {\r\n          show: false,\r\n          position: 'center',\r\n        },\r\n        labelLine: {\r\n          show: false\r\n        },\r\n        itemStyle: sliceStyle,\r\n        emphasis: {\r\n          itemStyle: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        },\r\n        name: userInput.pieSliceName,\r\n        encode: {\r\n          itemName: [userInput.pieSlicenName],\r\n          value: userInput.pieSliceValue\r\n        }\r\n      }];\r\n    }\r\n  }\r\n  // getScatterChartSeriesData function is used to create series data for scatter chart\r\n  getScatterChartSeriesData(userInput) {\r\n    // const result = [];\r\n    // this.serviceData[userInput.listName].map(function (item) {\r\n    //   const currentResult = [];\r\n    //   currentResult.push(item[userInput.xAxisDimension]);\r\n    //   currentResult.push(item[userInput.yAxisDimension]);\r\n    //   result.push(currentResult);\r\n    // });\r\n    if (userInput.layout === 'horizontalScatter') {\r\n      if (userInput.xAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          symbolSize: userInput.scatterSymbolSize,\r\n          // data: result,\r\n          data: this.serviceData[userInput.listName].map(function (item) {\r\n            return item[userInput.xAxisDimension];\r\n          }),\r\n          label: {\r\n            show: userInput.showLabel\r\n          },\r\n          emphasis: {\r\n            focus: 'series',\r\n            label: {\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              shadowOffsetX: 0,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          },\r\n        }]\r\n      } else {\r\n        const xAxisDimensions = userInput.xAxisDimension.split(',');\r\n        let xAxisData = [];\r\n        for (let i in xAxisDimensions) {\r\n          xAxisData[i] = {\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            // data: result,\r\n            data: this.serviceData[userInput.listName].map(function (item) {\r\n              return item[xAxisDimensions[i]];\r\n            }),\r\n            label: {\r\n              show: userInput.showLabel\r\n            },\r\n            emphasis: {\r\n              focus: 'series',\r\n              label: {\r\n                show: true\r\n              },\r\n              itemStyle: {\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            },\r\n          }\r\n        }\r\n        return xAxisData;\r\n      }// End of else part of XAxisDimension\r\n    } else {\r\n      if (userInput.yAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          symbolSize: userInput.scatterSymbolSize,\r\n          // data: result,\r\n          data: this.serviceData[userInput.listName].map(function (item) {\r\n            return item[userInput.yAxisDimension];\r\n          }),\r\n          label: {\r\n            show: userInput.showLabel\r\n          },\r\n          emphasis: {\r\n            focus: 'series',\r\n            label: {\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              shadowOffsetX: 0,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          },\r\n        }]\r\n      } else {\r\n        const yAxisDimensions = userInput.yAxisDimension.split(',');\r\n        let yAxisData = [];\r\n        for (let i in yAxisDimensions) {\r\n          yAxisData[i] = {\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            // data: result,\r\n            data: this.serviceData[userInput.listName].map(function (item) {\r\n              return item[yAxisDimensions[i]];\r\n            }),\r\n            label: {\r\n              show: userInput.showLabel\r\n            },\r\n            emphasis: {\r\n              focus: 'series',\r\n              label: {\r\n                show: true\r\n              },\r\n              itemStyle: {\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            },\r\n          }\r\n        }\r\n        return yAxisData;\r\n      }// End of else part of YAxisDimension\r\n    }\r\n\r\n  }\r\n  // getPolarChartSeriesData function is used to create series data for polar chart\r\n  getPolarChartSeriesData(userInput) {\r\n    const result = [];\r\n    this.serviceData[userInput.listName].map(function (item) {\r\n      const currentResult = [];\r\n      currentResult.push(item[userInput.xAxisDimension]);\r\n      currentResult.push(item[userInput.yAxisDimension]);\r\n      result.push(currentResult);\r\n    });\r\n    return [{\r\n      coordinateSystem: 'polar',\r\n      name: userInput.xAxisDimension,\r\n      type: userInput.layout,\r\n      showSymbol: true,\r\n      data: result,\r\n      label: {\r\n        show: userInput.showLabel\r\n      },\r\n      emphasis: {\r\n        label: {\r\n          show: true\r\n        },\r\n      },\r\n    }]\r\n  }\r\n  // getRadarSeriesData function is used to get the data from service and store it in seriesData variable\r\n  getRadarSeriesData(userInput) {\r\n    const dimensions = userInput.radarDimensions.split(',');\r\n    const dimensionRecord = dimensions.reduce((acc, dimension) => {\r\n      acc[dimension] = [];\r\n      return acc;\r\n    }, {});\r\n    console.log('dimensions', dimensions);\r\n\r\n    if (userInput.listName in this.serviceData) {\r\n      this.serviceData[userInput.listName].map(function (item) {\r\n        Object.keys(item).forEach(key => {\r\n          if (dimensionRecord[key]) {\r\n            dimensionRecord[key].push(item[key])\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      let indexes = dimensions.map((v, index) => {\r\n        let val = v;\r\n        return { key: val, value: this.serviceData[0].indexOf(v) };\r\n      });\r\n      for (let i = 1; i < this.serviceData.length; i++) {\r\n        indexes.forEach(element => {\r\n          dimensionRecord[element.key].push(this.serviceData[i][element.value]);\r\n        });\r\n      }\r\n    }\r\n\r\n    // let resultARR = Object.values(dimensionRecord)\r\n    const result1 = Object.keys(dimensionRecord).map(key => ({\r\n      name: key,\r\n      value: dimensionRecord[key]\r\n    }));\r\n    if (userInput.listName in this.serviceData) {\r\n      return [{\r\n        name: userInput.listName,\r\n        type: 'radar',\r\n        data: result1\r\n      }]\r\n    } else {\r\n      return [{\r\n        // name: userInput.,\r\n        type: 'radar',\r\n        data: result1\r\n      }]\r\n    }\r\n\r\n  }\r\n\r\n\r\n  createObject(dataDim, arr, dimen) {\r\n    const dimensions = dimen.split(',');\r\n    const dimensionRecord = dimensions.reduce((acc, dimension) => {\r\n      acc[dimension] = [];\r\n      return acc;\r\n    }, {});\r\n    let indexes = dimensions.map((v, index) => {\r\n      let val = v;\r\n      return { key: val, value: dataDim.indexOf(v) };\r\n    });\r\n\r\n    arr.map(function (item, index) {\r\n      console.log('item ', item, '   index ', index);\r\n      indexes.keys.forEach(element => {\r\n        dimensionRecord[element.key].push(item[element.value]);\r\n      });\r\n    });\r\n  }\r\n\r\n  //getPieChartSeriesData function is used to create series data for pie chart\r\n  getPieChartSeriesData(userInput) {\r\n    //convert comma separated string userInput.radius to array\r\n    let convradius = userInput.radius.split(',');\r\n    let roseValue = ''; let sliceStyle;\r\n    if (userInput.layout === 'roseMode') {\r\n      roseValue = 'rose';\r\n    }\r\n    if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius === undefined) {\r\n      sliceStyle = {}\r\n    }\r\n    else if (userInput.pieBorderWidth > 0 && userInput.pieBorderRadius === undefined) {\r\n      sliceStyle = {\r\n        borderColor: '#fff',\r\n        borderWidth: userInput.pieBorderWidth\r\n      }\r\n    } else if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius > 0) {\r\n      sliceStyle = {\r\n        borderRadius: userInput.pieBorderRadius\r\n      }\r\n    } else {\r\n      sliceStyle = {\r\n        borderRadius: userInput.pieBorderRadius,\r\n        borderColor: '#fff',\r\n        borderWidth: userInput.pieBorderWidth\r\n      }\r\n    }\r\n    return [{\r\n      name: userInput.listName,\r\n      type: 'pie',\r\n      radius: convradius,\r\n      roseType: roseValue,\r\n      avoidLabelOverlap: false,\r\n      label: {\r\n        show: true,\r\n        position: 'center',\r\n      },\r\n      labelLine: {\r\n        show: false\r\n      },\r\n      itemStyle:sliceStyle,\r\n      emphasis: {\r\n        // label: {\r\n        //   show: true,\r\n        //   fontSize: '30',\r\n        //   fontWeight: 'bold'\r\n        // }\r\n        itemStyle: {\r\n          shadowBlur: 10,\r\n          shadowOffsetX: 0,\r\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n        }\r\n      },\r\n      data: this.serviceData[userInput.listName].map(function (item) {\r\n        //take val from userinput.pieslice value and return it\r\n        const val = item[userInput.pieSliceValue];\r\n        let nam;\r\n        if (userInput.pieSliceValue === userInput.pieSlicenName) {\r\n          nam = userInput.pieSlicenName;\r\n        } else {\r\n          nam = item[userInput.pieSlicenName]\r\n        }\r\n        return {\r\n          value: val,\r\n          name: nam\r\n        }\r\n      }),\r\n    }]\r\n  }\r\n  //getseriesdata recieves userinput and returns seriesdata\r\n  //seriesdata is an array of objects\r\n  getSeriesData(userInput) {\r\n    if (userInput.yAxisDimension.split(',').length === 1) {\r\n      return [{\r\n        name: userInput.listName,\r\n        // data as servicedata's userInput.listName from userinput yaxis dimension without using map function\r\n        data: this.serviceData[userInput.listName].map(function (item) {\r\n          return item[userInput.yAxisDimension];\r\n        }),\r\n        type: userInput.type,\r\n        smooth: userInput.smoothLine,\r\n        areaStyle: userInput.area\r\n      }];\r\n    } else {\r\n      const yAxisDimensions = userInput.yAxisDimension.split(',');\r\n      let yAxisData = [];\r\n      for (let i in yAxisDimensions) {\r\n        yAxisData[i] = {\r\n          name: yAxisDimensions[i],\r\n          stack: this.getStackName(userInput.stack, yAxisDimensions[i]),\r\n          emphasis: {\r\n            focus: 'series'\r\n          },\r\n          data: this.serviceData[userInput.listName].map(function (item) {\r\n            return item[yAxisDimensions[i]];\r\n          }),\r\n          type: userInput.type,\r\n          smooth: userInput.smoothLine,\r\n          areaStyle: userInput.area\r\n        }\r\n      } //end of for block\r\n      return yAxisData;\r\n    }\r\n  }\r\n  // Gets the dimensions for dataset\r\n  getDatasetDimensions(userInput) {\r\n    let yDimensions, xDimensions, dimensionArr = [];\r\n    // if (userInput.type === 'bar' || userInput.type === 'line') {\r\n    if (userInput.yAxisDimension.split(',').length === 1) {\r\n      yDimensions = userInput.yAxisDimension;\r\n      dimensionArr.push(yDimensions);\r\n    } else {\r\n      yDimensions = userInput.yAxisDimension.split(',');\r\n      dimensionArr = [...dimensionArr, ...yDimensions];\r\n    }\r\n    if (userInput.xAxisDimension.split(',').length === 1) {\r\n      xDimensions = userInput.xAxisDimension;\r\n      dimensionArr.push(xDimensions);\r\n    } else {\r\n      xDimensions = userInput.xAxisDimension.split(',');\r\n      dimensionArr = [...dimensionArr, ...xDimensions];\r\n    }\r\n    return dimensionArr;\r\n  }\r\n  // if stackdata is empty then return dimensionName\r\n  // else if stackdata is not empty then check if dimensionName is present in stackdata\r\n  // if present then return stackname\r\n  // else return dimensionName\r\n  getStackName(stackData, dimensionName) {\r\n    let result = '';\r\n    for (let x in stackData) {\r\n      let values = stackData[x].stackValues.split(',');\r\n      for (let i in values) {\r\n        if (values[i] === dimensionName) {\r\n          result = stackData[x].stackName;\r\n          return result;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //Get the dimensions and method array for aggregation\r\n  // List comes from aggregate config and conatins both method and dimension name\r\n  //We also need group by to be included as a dimension but without a method\r\n  getResultDimesions(list, groupby) {\r\n    const changedNamesForResult = list.map(({\r\n      aggrDimesnion: from,\r\n      aggrMethod: method\r\n    }) => ({\r\n      from,\r\n      method\r\n    }));\r\n    changedNamesForResult.push({ from: groupby });\r\n    return changedNamesForResult;\r\n  }\r\n  // Method for showing the Slider/Pinch Zoom\r\n  showZoomFeature(val) {\r\n    if (val) {\r\n      return [\r\n        {\r\n          type: 'inside',\r\n          xAxisIndex: 0,\r\n          minSpan: 5\r\n        },\r\n        {\r\n          type: 'slider',\r\n          xAxisIndex: 0,\r\n          minSpan: 5,\r\n          show: true,\r\n          height: 20,\r\n          top: '90%',\r\n        }\r\n      ]\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n  // Get data for horizontal Bar chart\r\n  getHorizontalSeriesData(userInput) {\r\n    if (userInput.xAxisDimension.split(',').length === 1) {\r\n      return [{\r\n        name: userInput.listName,\r\n        data: this.serviceData[userInput.listName].map(function (item) {\r\n          const val = extractValueFromJSON(userInput.xAxisDimension, item);\r\n          return val;\r\n        }),\r\n        label: {\r\n          show: userInput.showLabel\r\n        },\r\n        emphasis: {\r\n          focus: 'series',\r\n          label: {\r\n            show: true\r\n          },\r\n        },\r\n        type: userInput.type,\r\n        smooth: userInput.smoothLine,\r\n        areaStyle: userInput.area\r\n      }];\r\n    } else {\r\n      const xAxisDimensions = userInput.xAxisDimension.split(',');\r\n      let xAxisData = [];\r\n      for (let i in xAxisDimensions) {\r\n        xAxisData[i] = {\r\n          name: xAxisDimensions[i],\r\n          stack: this.getStackName(userInput.stack, xAxisDimensions[i]),\r\n          label: {\r\n            show: userInput.showLabel\r\n          },\r\n          emphasis: {\r\n            // focus:'series',\r\n            label: {\r\n              show: true\r\n            },\r\n          },\r\n          data: this.serviceData[userInput.listName].map(function (item) {\r\n            // return item[yAxisDimensions[i]];\r\n            const val = extractValueFromJSON(xAxisDimensions[i], item);\r\n            return val;\r\n          }),\r\n          // markPoint: {\r\n          //   data: [\r\n          //     { type: 'max', name: 'Max' },\r\n          //     { type: 'min', name: 'Min' }\r\n          //   ]\r\n          // },\r\n          // markLine: {\r\n          //   data: [{ type: 'average', name: 'Avg' }]\r\n          // }\r\n          // ,\r\n          type: userInput.type,\r\n          smooth: userInput.smoothLine,\r\n          areaStyle: userInput.area\r\n        }\r\n      } //end of for block\r\n      return xAxisData;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nexport const previewImage = '';","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nexport interface ChartConfig {\r\n    radius: string[];\r\n    tooltip?: Tooltip;\r\n    legend?: Legend;\r\n    toolbox?: Toolbox;\r\n    title?: string | '',\r\n    type?: string | '',\r\n    layout?: string | '',\r\n    dataSource?: string | '',\r\n    dataSourceValue?: string | '',\r\n    xAxis?: string | '',\r\n    xAxisDimension?: string | '',\r\n    yAxis?: string | '',\r\n    yAxisDimension: string | '',\r\n    apiUrl?: string | '',\r\n    sqlQuery?:string |'',\r\n    smoothLine?: boolean,\r\n    area?: any | '',\r\n    stackList: Stack[],\r\n    aggrList: AggregateData[],\r\n    stack: Stack[] | string,\r\n    aggrArr: AggregateData[],\r\n    roseType?: string | '',\r\n    showLabel?: boolean,\r\n    dateFormat?:string;\r\n    itemStyle?: ItemStyle,\r\n    emphasis?:Emphasis;\r\n    sliderZoom?:boolean|'';\r\n    boxZoom?:boolean;\r\n    pieSlicenName?:string | '';\r\n    pieSliceValue?:string | '';\r\n    radarShape?:string | '';\r\n    radarIndicator?:string | '';\r\n    radarDimensions?:string | '';\r\n    showApiInput?: boolean;\r\n    showDatahubInput?:boolean;\r\n    addStack: boolean,\r\n    listName:string|'';\r\n    groupBy?:string | '';\r\n    xAxisName?:string | '';\r\n    yAxisName?:string | '';\r\n    scatterSymbolSize?:string;\r\n    pieBorderWidth?:number|0;\r\n    pieBorderRadius?:number|0;\r\n}\r\n\r\nexport class Emphasis{\r\n    label?:Label;\r\n}\r\nexport class Label{\r\n    show?:boolean;\r\n}\r\nexport class ItemStyle{\r\n    borderRadius?:number;\r\n}\r\nexport class YAxis{\r\n    ytype?: string;//'value','category','time','log'\r\n    name?:string;//name of axis\r\n    position?: string;//left or right\r\n}\r\nexport class Tooltip {\r\n    show?: boolean | '';\r\n    trigger?: string | ''; //'axis' for line or bar chart,'item' for scatter or pie chart\r\n    triggerOn?: string | '';\r\n    borderColor?: string | '';\r\n    borderWidth?: string | '';\r\n    order?: string | '';//values can be 'seriesAsc','seriesDesc','valueAsc','valueDesc'\r\n}\r\n\r\n// To show symbol,color and name of series\r\nexport class Legend {\r\n    show?: boolean | '';\r\n    type?: string | '';//'plain' is default,'scroll' when many options are in legend\r\n    orient?: string | '';//'horizontal' or  'vertical'\r\n    icon?: string | '';//shape of legend ; values can be 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'\r\n    selector?: boolean | '';//to show a select all button for legends or not\r\n    top?: string | '';\r\n    width?: Number | '';\r\n\r\n}\r\n\r\nexport class Toolbox {\r\n    show?: boolean | '';\r\n    orient?: string | '';//'horizontal' or  'vertical'\r\n    feature?: Feature;//'plain' is default,'scroll' when many options are in legend\r\n}\r\n\r\nexport class Stack{\r\n    stackName: string;\r\n    stackValues:string;\r\n}\r\n\r\nexport class AggregateData{\r\n    aggrDimesnion: string;\r\n    aggrMethod:string;\r\n}\r\n\r\nexport class Feature {\r\n    saveAsImage?: any | '';\r\n    magicType?: any | '';\r\n    dataZoom?: any | '';\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output, Pipe } from '@angular/core';\r\nimport { config } from 'process';\r\nimport { AggregateData, ChartConfig, Stack } from '../model/config.modal';\r\nconst chartValues = {\r\n  chartType: [\r\n\r\n    {\r\n      id: 'bar',\r\n      value: 'Bar Chart'\r\n    },\r\n    {\r\n      id: 'line',\r\n      value: 'Line Chart',\r\n    },\r\n    {\r\n      id: 'pie',\r\n      value: 'Pie Chart'\r\n    },\r\n    {\r\n      id: 'radar',\r\n      value: 'Radar Chart'\r\n    },\r\n    {\r\n      id: 'polar',\r\n      value: 'Polar chart'\r\n    },\r\n    {\r\n      id: 'scatter',\r\n      value: 'Scatter Chart'\r\n    }\r\n  ],\r\n  chartLayout: [\r\n    {\r\n      id: 'line',\r\n      layout: [\r\n        {\r\n          id: 'simple',\r\n          value: 'Simple Line Chart'\r\n        },\r\n        {\r\n          id: 'stacked',\r\n          value: 'Stacked Line Chart'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'polar',\r\n      layout: [\r\n        {\r\n          id: 'line',\r\n          value: 'Line'\r\n        },\r\n        {\r\n          id: 'bar',\r\n          value: 'Bar'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'bar',\r\n      layout: [\r\n        {\r\n          id: 'simpleBar',\r\n          value: 'Simple Bar Chart'\r\n        },\r\n        {\r\n          id: 'stackedBar',\r\n          value: 'Stacked Bar Chart'\r\n        },\r\n        {\r\n          id: 'simpleHorizontalBar',\r\n          value: 'Simple Horizontal Bar Chart'\r\n        },\r\n        {\r\n          id: 'stackedHorizontalBar',\r\n          value: 'Stacked Horizontal Bar Chart'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'pie',\r\n      layout: [\r\n        {\r\n          id: 'simplePie',\r\n          value: 'Simple Pie Chart'\r\n        },\r\n        {\r\n          id: 'roseMode',\r\n          value: 'Rose Chart'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'scatter',\r\n      layout: [\r\n        {\r\n          id: 'simpleScatter',\r\n          value: 'Simple Scatter Chart'\r\n        },\r\n        {\r\n          id: 'horizontalScatter',\r\n          value: 'Horizontal Scatter Chart'\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  yAxisType: [\r\n    {\r\n      id: 'value',\r\n      value: 'Value',\r\n      disabled:false\r\n    },\r\n    {\r\n      id: 'category',\r\n      value: 'Category',\r\n      disabled:false\r\n\r\n    },\r\n    {\r\n      id: 'time',\r\n      value: 'Time',\r\n      disabled:false\r\n    },\r\n    // {\r\n    //   id: 'log',\r\n    //   value: 'Log',\r\n    //   disabled:false\r\n    // },\r\n  ],\r\n  \r\n  xAxisType: [\r\n    {\r\n      id: 'value',\r\n      value: 'Value',\r\n      disabled:false\r\n    },\r\n    {\r\n      id: 'category',\r\n      value: 'Category',\r\n      disabled:false\r\n\r\n    },\r\n    {\r\n      id: 'time',\r\n      value: 'Time',\r\n      disabled:false\r\n    },\r\n    // {\r\n    //   id: 'log',\r\n    //   value: 'Log',\r\n    //   disabled:false\r\n    // },\r\n  ],\r\n  legendType: [\r\n    {\r\n      icon: 'circle',\r\n      value: 'Circle'\r\n    },\r\n    {\r\n      icon: 'rect',\r\n      value: 'Rectangle'\r\n    },\r\n    {\r\n      icon: 'roundRect',\r\n      value: 'Round Rectangle'\r\n    },\r\n    {\r\n      icon: 'triangle',\r\n      value: 'Triangle'\r\n    },\r\n    {\r\n      icon: 'diamond',\r\n      value: 'Diamond'\r\n    },\r\n    {\r\n      icon: 'arrow',\r\n      value: 'Arrow'\r\n    }\r\n  ],\r\n  aggregateMethod: [\r\n    {\r\n      id: 'sum',\r\n      value: 'Sum'\r\n    },\r\n    {\r\n      id: 'count',\r\n      value: 'Count'\r\n    },\r\n    {\r\n      id: 'Q1',\r\n      value: 'Q1'\r\n    },\r\n    {\r\n      id: 'median',\r\n      value: 'Q2 / Median'\r\n    },\r\n    {\r\n      id: 'Q3',\r\n      value: 'Q3'\r\n    },\r\n    {\r\n      id: 'first',\r\n      value: 'First'\r\n    },\r\n    {\r\n      id: 'average',\r\n      value: 'Average'\r\n    },\r\n    {\r\n      id: 'min',\r\n      value: 'Min'\r\n    },\r\n    {\r\n      id: 'max',\r\n      value: 'Max'\r\n    },\r\n  ],\r\n  listName: '',\r\n}\r\n@Component({\r\n  selector: 'app-smart-chart-config',\r\n  templateUrl: './smart-chart-config.component.html',\r\n  styleUrls: ['./smart-chart-config.component.css']\r\n})\r\n\r\n\r\nexport class SmartChartConfigComponent implements OnInit {\r\n  flag = false;\r\n  @Input() config: ChartConfig = {\r\n    listName: '',\r\n    title: 'DATA CHART',\r\n    pieSlicenName: 'Date',\r\n    pieSliceValue: 'PhoneSales',\r\n    type: '',\r\n    layout: '',\r\n    dataSource: '',\r\n    dataSourceValue: '',\r\n    xAxis: '',\r\n    yAxis: '',\r\n    smoothLine: false,\r\n    apiUrl: '',\r\n    area: false,\r\n    yAxisDimension: 'QuarterSales',\r\n    radarDimensions: 'count,costOfRepair',\r\n    addStack: false,\r\n    showApiInput: false,\r\n    stack: [],\r\n    stackList: Stack[''],\r\n    aggrArr: [],\r\n    aggrList: AggregateData[''],\r\n    // groupBy: '',\r\n    legend: {\r\n      icon: '',\r\n      width: 330,\r\n      type: 'scroll'\r\n    },\r\n    radius: []\r\n  };\r\n\r\n  // @Input() config: ChartConfig = {\r\n  //   listName: '',\r\n  //   title: 'DATA CHART',\r\n  //   pieSlicenName: '',\r\n  //   pieSliceValue: '',\r\n  //   type: '',\r\n  //   layout: '',\r\n  //   dataSource: '',\r\n  //   dataSourceValue: '',\r\n  //   xAxis: '',\r\n  //   yAxis: '',\r\n  //   smoothLine: false,\r\n  //   apiUrl: '',\r\n  //   area: false,\r\n  //   yAxisDimension: 'Temperature',\r\n  //   radarDimensions: '',\r\n  //   addStack: false,\r\n  //   showApiInput: false,\r\n  //   showDatahubInput: false,\r\n  //   stack: [],\r\n  //   stackList: Stack[''],\r\n  //   aggrArr:[],\r\n  //   aggrList: AggregateData[''],\r\n  //   // groupBy: '',\r\n  //   legend: {\r\n  //     icon: '',\r\n  //     width: 330,\r\n  //     type: 'scroll'\r\n  //   },\r\n  //   radius: []\r\n  // };\r\n\r\n\r\n  //create output decorator to emit data\r\n\r\n  chartData = chartValues;\r\n  chartLayoutData;\r\n  aggregationMethods;\r\n\r\n  isGroupByInAggregate = false;\r\n  constructor() { }\r\n  ngOnInit(): void {\r\n    this.aggregationMethods = chartValues.aggregateMethod;\r\n\r\n    this.config.xAxis = 'Date';\r\n    this.config.xAxis = 'value';\r\n\r\n    this.config.xAxisDimension = 'PhoneSales';\r\n    this.config.yAxisDimension = 'QuarterSales';\r\n\r\n    this.config.apiUrl = 'https://democenter.gateway.webmethodscloud.com/gateway/ConnectedStoreAPIs/1.0/ConnectedStoreAPIs/getQuarterlySales';\r\n    this.config.legend = {\r\n      icon: 'diamond',\r\n      top: '10%',\r\n      type: 'scroll'\r\n    }\r\n    this.config.listName = 'SalesData';\r\n    this.config.aggrList = [];\r\n    // this.config.xAxisDimension = 'time';\r\n    // this.config.yAxisDimension = 'c8y_Temperature.T.value';\r\n    // this.config.sqlQuery = 'select * from t664142085Space.temperature';\r\n    // this.config.apiUrl = 'service/datahub/sql?version=v1';\r\n    // this.config.legend = {\r\n    //   icon: 'diamond',\r\n    //   top: '10%',\r\n    //   type: 'scroll'\r\n    // }\r\n    // this.config.listName = 'rows';\r\n    // this.config.aggrList = [];\r\n\r\n  }\r\n\r\n\r\n  //add another stack to the stackList\r\n  //if stackList is empty, add total to the stackList\r\n  //if stackList is not empty, add another stack to the stackList\r\n  stackAdded(stack) {\r\n    this.config.stackList = [];\r\n    if (stack) {\r\n      this.config.stackList.push(new Stack());\r\n      this.config.stackList.push(new Stack());\r\n    } else {\r\n      this.config.stackList.length = 0;\r\n    }\r\n  }\r\n\r\n  deleteStackValue(stack, index) {\r\n    this.config.stackList.splice(index, 1);\r\n  }\r\n  \r\n  //updateStack is called when the user changes the type of chart\r\n  //updateStack is called when the user changes the layout of the chart\r\n  //updateStack is called when the user changes the data source of the chart\r\n  updateStack() {\r\n    if (this.config.apiUrl) {\r\n      if (this.config.type === 'bar') {\r\n        if (this.config.layout === 'stackedBar') {\r\n          if (this.config.stackList.length === 0) {\r\n            this.config.stack = 'total';\r\n          } else if (this.config.stackList.length > 0) {\r\n            this.config.stack = this.config.stackList;\r\n          } else {\r\n            this.config.stack = '';\r\n          }\r\n        }\r\n      }\r\n      if (this.config.type === 'line') {\r\n        if (this.config.layout === 'stackedLine') {\r\n          if (this.config.stackList.length === 0) {\r\n            this.config.stack = 'total';\r\n          } else if (this.config.stackList.length > 0) {\r\n            this.config.stack = this.config.stackList;\r\n          } else {\r\n            this.config.stack = '';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  addAnotherStack() {\r\n    this.config.stackList.push(new Stack());\r\n  }\r\n  isAggrAdded = false;\r\n  addAnotherAggregate() {\r\n    this.isAggrAdded = true;\r\n    this.config.aggrList.push(new AggregateData());\r\n  }\r\n\r\n  deleteAggrValue(aggr, index) {\r\n    this.config.aggrList.splice(index, 1);\r\n    if (this.config.aggrList.length === 0) {\r\n      this.isAggrAdded = false;\r\n    }\r\n  }\r\n  onSelection(value) {\r\n    this.chartData.chartLayout.filter(val => {\r\n      if (value === val.id) {\r\n        this.chartLayoutData = val.layout;\r\n      }\r\n    })\r\n    this.config.addStack = false;\r\n    \r\n  }\r\n  onLayoutSelection(value) {\r\n    if(value==='simpleBar' || value==='stackedBar'|| value==='simple'||value===\"stacked\" ||value==='simpleScatter'){\r\n      for(let val of this.chartData.yAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=true;\r\n        }\r\n      }\r\n      for(let val of this.chartData.xAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=false;\r\n        }\r\n      }\r\n    }else if(value==='simpleHorizontalBar' || value==='stackedHorizontalBar' || value ==='horizontalScatter'){\r\n      for(let val of this.chartData.yAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=false;\r\n        }\r\n      }\r\n      for(let val of this.chartData.xAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  dataSourceSelection(value) {\r\n    if (value === 'API') {\r\n      this.config.showApiInput = true;\r\n      this.config.showDatahubInput = false;\r\n\r\n    } else if (value === 'datahub') {\r\n      this.config.showDatahubInput = true;\r\n      this.config.showApiInput = false;\r\n\r\n    } else {\r\n      this.config.showApiInput = false;\r\n      this.config.showDatahubInput = false;\r\n    }\r\n  }\r\n  @Output() configData: EventEmitter<any> = new EventEmitter();\r\n\r\n  // if onSelection, onLayoutSelection, dataSourceSelection is called, then submit data and emit config\r\n  SubmitData() {\r\n    // console.log('config', this.config);\r\n\r\n    this.config.aggrList.filter(element => {\r\n      if (element.aggrDimesnion === this.config.groupBy) {\r\n        this.isGroupByInAggregate = true;\r\n      } else {\r\n        this.isGroupByInAggregate = false;\r\n      }\r\n    });\r\n    if (this.config.area === true) {\r\n      this.config.area = {};\r\n    }else {\r\n      this.config.area = null;\r\n    }\r\n    if (!this.isGroupByInAggregate) {\r\n      this.configData.emit(this.config);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { CUSTOM_ELEMENTS_SCHEMA, InjectionToken, NgModule } from '@angular/core';\r\nimport { BootstrapComponent, CommonModule, CoreModule, HOOK_COMPONENTS } from '@c8y/ngx-components';\r\nimport { GpSmartEchartWidgetComponent } from './gp-smart-echart-widget.component';\r\nimport * as preview from './preview-image';\r\nimport { NgxEchartsModule } from 'ngx-echarts';\r\nimport { SmartChartConfigComponent } from './smart-chart-config/smart-chart-config.component';\r\nimport { GpSmartEchartWidgetService } from './gp-smart-echart-widget.service';\r\nimport * as echarts from 'echarts';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [GpSmartEchartWidgetComponent,SmartChartConfigComponent],\r\n  imports: [\r\n    CoreModule,\r\n    NgxEchartsModule.forRoot({\r\n      echarts\r\n    }),\r\n  ],\r\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\r\n  providers: [\r\n    GpSmartEchartWidgetService,\r\n    {\r\n        provide:  HOOK_COMPONENTS,\r\n        multi: true,\r\n        useValue: {\r\n            id: 'smart.echart',\r\n            label: 'Smart eChart',\r\n            description: 'linechart derived from api data',\r\n            previewImage: preview.previewImage,\r\n            component: GpSmartEchartWidgetComponent,\r\n            configComponent: SmartChartConfigComponent,\r\n            data : {\r\n                ng1 : {\r\n                    options: { noDeviceTarget: false,\r\n                    noNewWidgets: false,\r\n                    deviceTargetNotRequired: true,\r\n                    groupsSelectable: true\r\n                    },\r\n                }\r\n            }\r\n        }\r\n    }],\r\n  exports: [GpSmartEchartWidgetComponent,SmartChartConfigComponent],\r\n  entryComponents: [GpSmartEchartWidgetComponent,SmartChartConfigComponent]\r\n})\r\nexport class GpSmartEchartWidgetModule { }\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/*\r\n * Public API Surface of gp-smart-echart-widget\r\n */\r\nexport * from './lib/gp-smart-echart-widget.service';\r\nexport * from './lib/gp-smart-echart-widget.component';\r\nexport * from './lib/gp-smart-echart-widget.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {previewImage as ɵb} from './lib/preview-image';\nexport {SmartChartConfigComponent as ɵa} from './lib/smart-chart-config/smart-chart-config.component';"],"names":["preview.previewImage"],"mappings":"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"}