!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common/http"),require("@angular/core"),require("echarts"),require("echarts-simple-transform"),require("@c8y/client"),require("@c8y/ngx-components"),require("ngx-echarts")):"function"==typeof define&&define.amd?define("smart-echart-runtime-widget",["exports","@angular/common/http","@angular/core","echarts","echarts-simple-transform","@c8y/client","@c8y/ngx-components","ngx-echarts"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["smart-echart-runtime-widget"]={},e.ng.common.http,e.ng.core,e.echarts,e.simpleTransform,e.client,e["@c8y/ngx-components"],e.ngxEcharts)}(this,(function(e,t,i,o,a,r,n,s){"use strict";function l(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var c=l(t),d=l(i),p=l(o),g=l(a),u=function(){function e(e){this.http=e}return e.prototype.getAPIData=function(e){return this.http.get(e)},e}();u.ɵprov=d.ɵɵdefineInjectable({factory:function(){return new u(d.ɵɵinject(c.HttpClient))},token:u,providedIn:"root"}),u.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],u.ctorParameters=function(){return[{type:t.HttpClient}]};function m(e,t,i,o){return new(i||(i=Promise))((function(a,r){function n(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,s)}l((o=o.apply(e,t||[])).next())}))}function h(e,t){var i,o,a,r,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,o=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(!(a=n.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){n=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){n.label=r[1];break}if(6===r[0]&&n.label<a[1]){n.label=a[1],a=r;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(r);break}a[2]&&n.ops.pop(),n.trys.pop();continue}r=t.call(e,n)}catch(e){r=[6,e],o=0}finally{i=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}Object.create;function f(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],o=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var o,a,r=i.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)n.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(a)throw a.error}}return n}function x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}Object.create;function v(e,t){var i,o,a,r=Array.isArray(e)?e:[e],n=[];try{for(var s=f(r),l=s.next();!l.done;l=s.next()){var c=l.value.split("."),d=t;if(1===c.length)n.push(d[c[0]]);else{for(var p=void 0,g=0;g<c.length;g++){p=d[c[g]],a=p,"[object Object]"===Object.prototype.toString.call(a)?d=p:c.length}n.push(p)}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return r.length>1?n.join(" "):n[0]}var b=function(){function e(e,t,i){this.chartService=e,this.realTimeService=t,this.fetchClient=i,this.chartOption={},this.allSubscriptions=[],this.realtime=!0,this.deviceId="",this.isDatahubPostCall=!1}return e.prototype.ngOnInit=function(){this.chartDiv=this.mapDivRef.nativeElement,this.createChart(this.config)},e.prototype.dataFromUser=function(e){this.createChart(e)},e.prototype.reloadData=function(e){this.createChart(e)},e.prototype.createChart=function(e){return m(this,void 0,void 0,(function(){var t,o,a,r,n,s,l,c,d,u,m,f,y,b,D,A,w,S;return h(this,(function(h){switch(h.label){case 0:return(t=p.init(this.chartDiv)).showLoading(),e.showApiInput?(o=this,[4,this.chartService.getAPIData(e.apiUrl).toPromise()]):[3,2];case 1:return o.serviceData=h.sent(),[3,6];case 2:return e.showDatahubInput?(a={sql:e.sqlQuery,limit:100,format:"PANDAS"},[4,this.fetchClient.fetch(e.apiUrl,{body:JSON.stringify(a),method:"POST"})]):[3,5];case 3:return r=h.sent(),n=this,[4,r.json()];case 4:return n.serviceData=h.sent(),this.isDatahubPostCall=!0,[3,6];case 5:i.isDevMode()&&console.log("No Datasource selected"),h.label=6;case 6:if(this.serviceData)if(t.hideLoading(),0!==e.aggrList.length||this.isDatahubPostCall)if(0===e.aggrList.length&&this.isDatahubPostCall){if(m=this.getResultDimesions(e.aggrList,e.groupBy),f=[],y=void 0,b=null,this.serviceData=x([this.serviceData.columns],this.serviceData.data),"bar"===e.type||"line"===e.type)f=this.getDatasetDimensions(e),w=void 0,S=void 0,A="",D="",1===e.yAxisDimension.split(",").length?(w=e.yAxisDimension,f.push(w),A=this.getFormattedName(e.yAxisDimension)):(w=e.yAxisDimension.split(","),f=x(f,w),A=""),1===e.xAxisDimension.split(",").length?(S=e.xAxisDimension,f.push(S),D=this.getFormattedName(e.xAxisDimension)):(S=e.xAxisDimension.split(","),f=x(f,S),D=""),-1===f.indexOf(e.groupBy)&&f.push(e.groupBy),y=this.getEncodeData(e,b,S,w),this.chartOption={dataset:[{id:"raw_data",source:this.serviceData}],tooltip:{trigger:"axis",axisPointer:{type:"cross"},confine:!0},xAxis:{name:e.xAxisDimension,nameLocation:"middle",nameGap:30,scale:!0,type:this.getXAxisType(e),boundaryGap:!1},yAxis:{type:this.getYAxisType(e)},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},dataZoom:this.showZoomFeature(e.sliderZoom),toolbox:{feature:{dataZoom:{show:!0},saveAsImage:{},restore:{}}},series:y},i.isDevMode()&&console.log("Baror Line chart for Datahub without aggregation",this.chartOption);else if("scatter"===e.type)-1===(f=this.getDatasetDimensions(e)).indexOf(e.groupBy)&&f.push(e.groupBy),D="",A="",D=e.xAxisDimension.split(",").length>1?"":this.getFormattedName(e.xAxisDimension),A=e.yAxisDimension.split(",").length>1?"":this.getFormattedName(e.yAxisDimension),y=this.getEncodeData(e,b),this.chartOption={dataset:[{id:"raw_data",source:this.serviceData}],grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},xAxis:{name:D,nameLocation:"middle",nameGap:50,type:this.getXAxisType(e),boundaryGap:!1},yAxis:{name:A,nameLocation:"middle",nameGap:70,type:this.getYAxisType(e)},tooltip:{trigger:"axis",axisPointer:{type:"cross"},confine:!0},dataZoom:this.showZoomFeature(e.sliderZoom),toolbox:{feature:{dataZoom:{show:!0,yAxisIndex:"none"},restore:{},saveAsImage:{}}},series:y},i.isDevMode()&&console.log("Scatter chart without Aggregation for Datahub",this.chartOption);else if("pie"===e.type)f=[e.pieSlicenName,e.pieSliceValue],y=this.getEncodeData(e,b),this.chartOption={dataset:[{id:"raw_data",source:this.serviceData}],tooltip:{trigger:"item",confine:!0},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},legend:{icon:e.legend.icon,width:330,left:"left",type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},toolbox:{feature:{saveAsImage:{}}},series:y},i.isDevMode()&&console.log("Pie chart without Aggregation for Datahub",this.chartOption);else if("polar"===e.type)w=void 0,S=void 0,1===e.yAxisDimension.split(",").length?(w=e.yAxisDimension,f.push(w)):(w=e.yAxisDimension.split(","),f=x(f,w)),1===e.xAxisDimension.split(",").length?(S=e.xAxisDimension,f.push(S)):(S=e.xAxisDimension.split(","),f=x(f,S)),-1===f.indexOf(e.groupBy)&&f.push(e.groupBy),y=this.getEncodeData(e,b,S,w),this.chartOption={dataset:[{id:"raw_data",source:this.serviceData}],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},angleAxis:{type:"value",startAngle:0},radiusAxis:{min:0},polar:{},legend:{icon:e.legend.icon,width:330,left:"left",type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},toolbox:{feature:{saveAsImage:{}}},series:y},i.isDevMode()&&console.log("Polar chart without Aggregation for Datahub",this.chartOption);else if("radar"===e.type){for(f=x(e.radarDimensions),this.seriesData=this.getRadarSeriesData(e),c=this.serviceData[0].indexOf(e.xAxisDimension),d=[],u=1;u<this.serviceData.length;u++)d.push({name:this.serviceData[u][c]});this.chartOption={legend:{icon:e.legend.icon,width:330,left:"left",type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},tooltip:{trigger:"item"},radar:{indicator:d,radius:100},series:this.seriesData,toolbox:{feature:{saveAsImage:{}}}},i.isDevMode()&&console.log("Radar Chart without Aggregation for Datahub",this.chartOption)}}else e.aggrList.length>0&&(p.registerTransform(g.aggregate),m=this.getResultDimesions(e.aggrList,e.groupBy),f=[],y=void 0,b="_aggregate",this.isDatahubPostCall?this.serviceData=x([this.serviceData.columns],this.serviceData.data):this.serviceData=this.serviceData[e.listName],"bar"===e.type||"line"===e.type?(w=void 0,S=void 0,D="",A="",this.isDatahubPostCall?f=null:(1===e.yAxisDimension.split(",").length?(w=e.yAxisDimension,f.push(w),A=this.getFormattedName(e.yAxisDimension)):(w=e.yAxisDimension.split(","),f=x(f,w),A=""),1===e.xAxisDimension.split(",").length?(S=e.xAxisDimension,f.push(S),D=this.getFormattedName(e.xAxisDimension)):(S=e.xAxisDimension.split(","),f=x(f,S),D=""),-1===f.indexOf(e.groupBy)&&f.push(e.groupBy)),y=this.getEncodeData(e,b,S,w),this.chartOption={dataset:[{id:"raw_data",dimensions:f,source:this.serviceData},{id:"_aggregate",fromDatasetId:"raw_data",transform:[{type:"ecSimpleTransform:aggregate",config:{resultDimensions:m,groupBy:e.groupBy},print:!0}]}],tooltip:{trigger:"axis",axisPointer:{type:"cross"},confine:!0},xAxis:{name:D,nameLocation:"middle",nameGap:30,scale:!0,type:this.getXAxisType(e),boundaryGap:!1},yAxis:{type:this.getYAxisType(e),name:A},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},dataZoom:this.showZoomFeature(e.sliderZoom),toolbox:{feature:{dataZoom:{show:!0},saveAsImage:{},restore:{}}},series:y},i.isDevMode()&&console.log("Aggregate Bar or Line chart",this.chartOption)):"scatter"===e.type?(this.isDatahubPostCall?f=null:-1===(f=this.getDatasetDimensions(e)).indexOf(e.groupBy)&&f.push(e.groupBy),D="",A="",D=e.xAxisDimension.split(",").length>1?"":this.getFormattedName(e.xAxisDimension),A=e.yAxisDimension.split(",").length>1?"":this.getFormattedName(e.yAxisDimension),y=this.getEncodeData(e,b),this.chartOption={dataset:[{id:"raw_data",dimensions:f,source:this.serviceData},{id:"_aggregate",fromDatasetId:"raw_data",transform:[{type:"ecSimpleTransform:aggregate",config:{resultDimensions:m,groupBy:e.groupBy},print:!0}]}],grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{name:D,nameLocation:"middle",nameGap:50,type:this.getXAxisType(e),boundaryGap:!1},yAxis:{name:A,nameLocation:"middle",nameGap:70,type:this.getYAxisType(e)},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},dataZoom:this.showZoomFeature(e.sliderZoom),toolbox:{feature:{dataZoom:{show:!0,yAxisIndex:"none"},restore:{},saveAsImage:{}}},series:y},i.isDevMode()&&console.log("Aggregate Scatter chart",this.chartOption)):"pie"===e.type?(f=this.isDatahubPostCall?null:[e.pieSlicenName,e.pieSliceValue],y=this.getEncodeData(e,b),this.chartOption={dataset:[{id:"raw_data",dimensions:f,source:this.serviceData},{id:"_aggregate",fromDatasetId:"raw_data",transform:[{type:"ecSimpleTransform:aggregate",config:{resultDimensions:m,groupBy:e.groupBy},print:!0}]}],tooltip:{trigger:"item",confine:!0},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},legend:{selected:{detail:!1},type:"scroll",icon:e.legend.icon,left:"left",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},toolbox:{feature:{saveAsImage:{}}},series:y},i.isDevMode()&&console.log("Aggregate Pie chart",this.chartOption)):"polar"===e.type&&(w=void 0,S=void 0,this.isDatahubPostCall?f=null:(1===e.yAxisDimension.split(",").length?(w=e.yAxisDimension,f.push(w)):(w=e.yAxisDimension.split(","),f=x(f,w)),1===e.xAxisDimension.split(",").length?(S=e.xAxisDimension,f.push(S)):(S=e.xAxisDimension.split(","),f=x(f,S)),-1===f.indexOf(e.groupBy)&&f.push(e.groupBy)),y=this.getEncodeData(e,b,S,w),this.chartOption={dataset:[{id:"raw_data",dimensions:f,source:this.serviceData},{id:"_aggregate",fromDatasetId:"raw_data",transform:[{type:"ecSimpleTransform:aggregate",config:{resultDimensions:m,groupBy:e.groupBy},print:!0}]}],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},angleAxis:{type:"value",startAngle:0},radiusAxis:{min:0},polar:{},legend:{selected:{detail:!1},type:"scroll",icon:e.legend.icon,left:"left",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},toolbox:{feature:{saveAsImage:{}}},series:y},i.isDevMode()&&console.log("Aggregate Polar chart",this.chartOption)));else"pie"===e.type?(this.seriesData=this.getPieChartSeriesData(e),this.chartOption={legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},xAxis:{show:!1,boundaryGap:!1,data:this.serviceData[e.listName].map((function(t){return t[e.xAxisDimension]}))},yAxis:{type:"value"},tooltip:{trigger:"item"},series:this.seriesData,toolbox:{feature:{saveAsImage:{}}}},i.isDevMode()&&console.log("Pie Chart For API",this.chartOption)):"polar"===e.type?(this.seriesData=this.getPolarChartSeriesData(e),this.chartOption={legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},polar:{},tooltip:{trigger:"axis",axisPointer:{type:"cross"},confine:!0},angleAxis:{type:"value",startAngle:0},radiusAxis:{min:0},series:this.seriesData,toolbox:{feature:{saveAsImage:{}}}},i.isDevMode()&&console.log("Polar Chart For API",this.chartOption)):"scatter"===e.type?(s=void 0,l=void 0,"horizontalScatter"===e.layout?(s={name:this.getFormattedName(e.xAxisDimension),nameLocation:"middle",nameGap:30,type:this.getXAxisType(e),boundaryGap:!1},l={name:this.getFormattedName(e.yAxisDimension),nameLocation:"middle",nameGap:70,data:this.serviceData[e.listName].map((function(t){return t[e.yAxisDimension]})),type:this.getYAxisType(e)}):(s={name:this.getFormattedName(e.xAxisDimension),nameLocation:"middle",nameGap:30,data:this.serviceData[e.listName].map((function(t){return t[e.xAxisDimension]})),type:this.getXAxisType(e),boundaryGap:!1},l={name:this.getFormattedName(e.yAxisDimension),nameLocation:"middle",nameGap:70,type:this.getYAxisType(e)}),this.seriesData=this.getScatterChartSeriesData(e),this.chartOption={grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},xAxis:s,yAxis:l,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},toolbox:{feature:{dataZoom:{show:e.boxZoom,yAxisIndex:"none"},restore:{},saveAsImage:{}}},legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},dataZoom:this.showZoomFeature(e.sliderZoom),series:this.seriesData},i.isDevMode()&&console.log("Scatter chart for API",this.chartOption)):"radar"===e.type?(this.seriesData=this.getRadarSeriesData(e),this.chartOption={legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},tooltip:{trigger:"item",confine:!0},grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},radar:{indicator:this.serviceData[e.listName].map((function(t){return{name:t[e.xAxisDimension]}})),radius:100},series:this.seriesData,toolbox:{feature:{saveAsImage:{}}}},i.isDevMode()&&console.log("Radar chart for API",this.chartOption)):"line"!==e.type&&"bar"!==e.type||"simpleHorizontalBar"===e.layout||"stackedHorizontalBar"===e.layout?"bar"!==e.type||"simpleHorizontalBar"!==e.layout&&"stackedHorizontalBar"!==e.layout||(D=void 0,A=void 0,D=e.xAxisDimension.split(",").length>1?"":this.getFormattedName(e.xAxisDimension),A=e.yAxisDimension.split(",").length>1?"":this.getFormattedName(e.yAxisDimension),this.seriesData=this.getHorizontalSeriesData(e),this.chartOption={grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},legend:{show:!0,icon:e.legend.icon,orient:"horizontal",formatter:function(e){return e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))},type:"scroll"},dataZoom:this.showZoomFeature(e.sliderZoom),xAxis:{type:this.getXAxisType(e),boundaryGap:!1},yAxis:{type:this.getYAxisType(e),data:this.serviceData[e.listName].map((function(t){return v(e.yAxisDimension,t)}))},series:this.seriesData,toolbox:{feature:{dataZoom:{show:!0,yAxisIndex:"none"},restore:{},saveAsImage:{}}}},i.isDevMode()&&console.log("Horizontal chart for API",this.chartOption)):(this.seriesData=this.getSeriesData(e),D=void 0,A=void 0,D=e.xAxisDimension.split(",").length>1?"":this.getFormattedName(e.xAxisDimension),A=e.yAxisDimension.split(",").length>1?"":this.getFormattedName(e.yAxisDimension),this.chartOption={legend:{icon:e.legend.icon,width:330,type:"scroll",formatter:function(e){var t=e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}));return t.trim(),t}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},confine:!0},dataZoom:this.showZoomFeature(e.sliderZoom),grid:{left:"10%",top:"20%",right:"10%",bottom:"15%",containLabel:!0},xAxis:{data:this.serviceData[e.listName].map((function(t){return t[e.xAxisDimension]})),type:this.getXAxisType(e),boundaryGap:!1},yAxis:{type:this.getYAxisType(e)},series:this.seriesData,toolbox:{feature:{dataZoom:{show:e.boxZoom,yAxisIndex:"none"},restore:{},saveAsImage:{}}}},i.isDevMode()&&console.log("Simple bar or line chart for API",this.chartOption));return[2]}}))}))},e.prototype.getXAxisType=function(e){return e.xAxis},e.prototype.getYAxisType=function(e){return e.yAxis},e.prototype.getChartType=function(e){return e.type},e.prototype.getFormattedName=function(e){return e.split(".").slice(-1)[0].replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})).trim()},e.prototype.getEncodeData=function(e,t,i,o){var a=this;if("polar"===e.type)return[{coordinateSystem:"polar",name:e.xAxisDimension,type:e.layout,showSymbol:!0,encode:{radius:e.yAxisDimension,angle:e.xAxisDimension,tooltip:[e.yAxisDimension,e.xAxisDimension]},label:{show:e.showLabel},emphasis:{label:{show:!0}}}];if("scatter"===e.type){if("horizontalScatter"===e.layout){if(1===e.xAxisDimension.split(",").length)return[{type:e.type,symbolSize:e.scatterSymbolSize,datasetId:t,encode:{y:e.yAxisDimension,x:e.xAxisDimension,tooltip:[e.xAxisDimension,e.yAxisDimension]}}];var r=e.xAxisDimension.split(","),n=[];return r.forEach((function(i,o){n[o]={type:e.type,symbolSize:e.scatterSymbolSize,datasetId:t,encode:{y:e.yAxisDimension,x:r[o],tooltip:[r[o],e.yAxisDimension]},label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0},itemStyle:{shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}})),n}if(1===e.yAxisDimension.split(",").length)return[{type:e.type,symbolSize:e.scatterSymbolSize,datasetId:t,encode:{y:e.yAxisDimension,x:e.xAxisDimension,tooltip:[e.xAxisDimension,e.yAxisDimension]},label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0},itemStyle:{shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}];var s=e.yAxisDimension.split(","),l=[];return s.forEach((function(i,o){l[o]={type:e.type,symbolSize:e.scatterSymbolSize,datasetId:t,encode:{y:e.yAxisDimension,x:s[o],tooltip:[s[o],e.yAxisDimension]},label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0},itemStyle:{shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}})),l}if("radar"===e.type){var c=e.radarDimensions.split(",").reduce((function(e,t){return e[t]=[],e}),{});this.serviceData[e.listName].map((function(e){Object.keys(e).forEach((function(t){c[t]&&c[t].push(e[t])}))}));Object.values(c);var d=Object.keys(c).map((function(e){return{name:e,value:c[e]}}));return[{name:e.listName,type:"radar",data:d}]}if("bar"===e.type&&("simpleBar"===e.layout||"stackedBar"===e.layout)){if(1===e.yAxisDimension.split(",").length)return[{type:e.type,datasetId:t,name:o,encode:{x:i,y:o}}];var p=[];return o.array.forEach((function(r,n){p[n]={type:e.type,datasetId:t,stack:a.getStackName(e.stack,o[n]),name:o[n],encode:{x:i,y:o[n]}}})),p}if("bar"===e.type&&("simpleHorizontalBar"===e.layout||"stackedHorizontalBar"===e.layout)){if(1===e.xAxisDimension.split(",").length)return[{type:e.type,datasetId:t,name:i,encode:{x:i,y:o}}];var g=[];return i.forEach((function(r,n){g[n]={type:e.type,datasetId:t,stack:a.getStackName(e.stack,i[n]),name:i[n],encode:{x:i[n],y:o}}})),g}if("line"===e.type){if(1===e.yAxisDimension.split(",").length)return[{type:e.type,datasetId:t,smooth:e.smoothLine,areaStyle:e.area,name:o,encode:{x:i,y:o}}];var u=[];return o.forEach((function(a,r){u[r]={type:e.type,datasetId:t,smooth:e.smoothLine,areaStyle:e.area,name:o[r],encode:{x:i,y:o[r]}}})),u}if("pie"===e.type){var m=e.radius.split(","),h="",f=void 0;return"roseMode"===e.layout&&(h="rose"),f=void 0===e.pieBorderWidth&&void 0===e.pieBorderRadius?{}:e.pieBorderWidth>0&&void 0===e.pieBorderRadius?{borderColor:"#fff",borderWidth:e.pieBorderWidth}:void 0===e.pieBorderWidth&&e.pieBorderRadius>0?{borderRadius:e.pieBorderRadius}:{borderRadius:e.pieBorderRadius,borderColor:"#fff",borderWidth:e.pieBorderWidth},[{type:e.type,datasetId:t,radius:m,roseType:h,avoidLabelOverlap:!1,label:{show:!1,position:"center"},labelLine:{show:!1},itemStyle:f,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},name:e.pieSliceName,encode:{itemName:[e.pieSlicenName],value:e.pieSliceValue}}]}},e.prototype.getScatterChartSeriesData=function(e){var t=this;if("horizontalScatter"===e.layout){if(1===e.xAxisDimension.split(",").length)return[{type:e.type,symbolSize:e.scatterSymbolSize,data:this.serviceData[e.listName].map((function(t){return t[e.xAxisDimension]})),label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0},itemStyle:{shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}];var i=e.xAxisDimension.split(","),o=[];return i.forEach((function(a,r){o[r]={type:e.type,symbolSize:e.scatterSymbolSize,data:t.serviceData[e.listName].map((function(e){return e[i[r]]})),label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0},itemStyle:{shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}})),o}if(1===e.yAxisDimension.split(",").length)return[{type:e.type,symbolSize:e.scatterSymbolSize,data:this.serviceData[e.listName].map((function(t){return t[e.yAxisDimension]})),label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0},itemStyle:{shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}];var a=e.yAxisDimension.split(","),r=[];return a.forEach((function(i,o){r[o]={type:e.type,symbolSize:e.scatterSymbolSize,data:t.serviceData[e.listName].map((function(e){return e[a[o]]})),label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0},itemStyle:{shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}})),r},e.prototype.getPolarChartSeriesData=function(e){var t=[];return this.serviceData[e.listName].map((function(i){var o=[];o.push(i[e.xAxisDimension]),o.push(i[e.yAxisDimension]),t.push(o)})),[{coordinateSystem:"polar",name:e.xAxisDimension,type:e.layout,showSymbol:!0,data:t,label:{show:e.showLabel},emphasis:{label:{show:!0}}}]},e.prototype.getRadarSeriesData=function(e){var t=this,i=e.radarDimensions.split(","),o=i.reduce((function(e,t){return e[t]=[],e}),{});if(e.listName in this.serviceData)this.serviceData[e.listName].map((function(e){Object.keys(e).forEach((function(t){o[t]&&o[t].push(e[t])}))}));else for(var a=i.map((function(e,i){return{key:e,value:t.serviceData[0].indexOf(e)}})),r=function(e){a.forEach((function(i){o[i.key].push(t.serviceData[e][i.value])}))},n=1;n<this.serviceData.length;n++)r(n);var s=Object.keys(o).map((function(e){return{name:e,value:o[e]}}));return e.listName in this.serviceData?[{name:e.listName,type:"radar",data:s}]:[{type:"radar",data:s}]},e.prototype.createObject=function(e,t,i){var o=i.split(","),a=o.reduce((function(e,t){return e[t]=[],e}),{}),r=o.map((function(t,i){return{key:t,value:e.indexOf(t)}}));t.map((function(e,t){r.keys.forEach((function(t){a[t.key].push(e[t.value])}))}))},e.prototype.getPieChartSeriesData=function(e){var t,i=e.radius.split(","),o="";return"roseMode"===e.layout&&(o="rose"),t=void 0===e.pieBorderWidth&&void 0===e.pieBorderRadius?{}:e.pieBorderWidth>0&&void 0===e.pieBorderRadius?{borderColor:"#fff",borderWidth:e.pieBorderWidth}:void 0===e.pieBorderWidth&&e.pieBorderRadius>0?{borderRadius:e.pieBorderRadius}:{borderRadius:e.pieBorderRadius,borderColor:"#fff",borderWidth:e.pieBorderWidth},[{name:e.listName,type:"pie",radius:i,roseType:o,avoidLabelOverlap:!1,label:{show:!0,position:"center"},labelLine:{show:!1},itemStyle:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:this.serviceData[e.listName].map((function(t){return{value:t[e.pieSliceValue],name:e.pieSliceValue===e.pieSlicenName?e.pieSlicenName:t[e.pieSlicenName]}}))}]},e.prototype.getSeriesData=function(e){var t=this;if(1===e.yAxisDimension.split(",").length)return[{name:this.getFormattedName(e.yAxisDimension),data:this.serviceData[e.listName].map((function(t){return t[e.yAxisDimension]})),type:e.type,smooth:e.smoothLine,areaStyle:e.area}];var i=e.yAxisDimension.split(","),o=[];return i.forEach((function(a,r){o[r]={name:i[r],stack:t.getStackName(e.stack,i[r]),emphasis:{focus:"series"},data:t.serviceData[e.listName].map((function(e){return console.log(e[i[r]]),e[i[r]]})),type:e.type,smooth:e.smoothLine,areaStyle:e.area}})),o},e.prototype.getDatasetDimensions=function(e){var t,i,o=[];return 1===e.yAxisDimension.split(",").length?(t=e.yAxisDimension,o.push(t)):o=x(o,t=e.yAxisDimension.split(",")),1===e.xAxisDimension.split(",").length?(i=e.xAxisDimension,o.push(i)):o=x(o,i=e.xAxisDimension.split(",")),o},e.prototype.getStackName=function(e,t){e.forEach((function(i,o){var a=e[o].stackValues.split(",");for(var r in a)if(a[r]===t)return e[o].stackName}))},e.prototype.getResultDimesions=function(e,t){var i=e.map((function(e){return{from:e.aggrDimesnion,method:e.aggrMethod}}));return i.push({from:t}),i},e.prototype.showZoomFeature=function(e){return e?[{type:"inside",xAxisIndex:0,minSpan:5},{type:"slider",xAxisIndex:0,minSpan:5,show:!0,height:20,top:"90%"}]:[]},e.prototype.getHorizontalSeriesData=function(e){var t=this;if(1===e.xAxisDimension.split(",").length)return[{name:this.getFormattedName(e.xAxisDimension),data:this.serviceData[e.listName].map((function(t){return v(e.xAxisDimension,t)})),label:{show:e.showLabel},emphasis:{focus:"series",label:{show:!0}},type:e.type,smooth:e.smoothLine,areaStyle:e.area}];var i=e.xAxisDimension.split(","),o=[];return i.forEach((function(a,r){o[r]={name:i[r],stack:t.getStackName(e.stack,i[r]),label:{show:e.showLabel},emphasis:{label:{show:!0}},data:t.serviceData[e.listName].map((function(e){return v(i[r],e)})),type:e.type,smooth:e.smoothLine,areaStyle:e.area}})),o},e}();b.decorators=[{type:i.Component,args:[{selector:"lib-gp-smart-echart-widget",template:'\r\n\r\n\r\n    <div class="row col-xs-12 col-md-12" style="display: block">\r\n\r\n        <div  echarts [options]="chartOption" class="demo-chart"\r\n        #chartBox></div>\r\n\r\n    </div>\r\n',styles:["gp-smart-echart-widget.component.css"]}]}],b.ctorParameters=function(){return[{type:u},{type:r.Realtime},{type:r.FetchClient}]},b.propDecorators={mapDivRef:[{type:i.ViewChild,args:["chartBox",{static:!0}]}],config:[{type:i.Input}]};var D=function(){},A=function(){},w={chartType:[{id:"bar",value:"Bar Chart"},{id:"line",value:"Line Chart"},{id:"pie",value:"Pie Chart"},{id:"radar",value:"Radar Chart"},{id:"polar",value:"Polar chart"},{id:"scatter",value:"Scatter Chart"}],chartLayout:[{id:"line",layout:[{id:"simple",value:"Simple Line Chart"},{id:"stacked",value:"Stacked Line Chart"}]},{id:"polar",layout:[{id:"line",value:"Line"},{id:"bar",value:"Bar"}]},{id:"bar",layout:[{id:"simpleBar",value:"Simple Bar Chart"},{id:"stackedBar",value:"Stacked Bar Chart"},{id:"simpleHorizontalBar",value:"Simple Horizontal Bar Chart"},{id:"stackedHorizontalBar",value:"Stacked Horizontal Bar Chart"}]},{id:"pie",layout:[{id:"simplePie",value:"Simple Pie Chart"},{id:"roseMode",value:"Rose Chart"}]},{id:"scatter",layout:[{id:"simpleScatter",value:"Simple Scatter Chart"},{id:"horizontalScatter",value:"Horizontal Scatter Chart"}]}],yAxisType:[{id:"value",value:"Value",disabled:!1},{id:"category",value:"Category",disabled:!1},{id:"time",value:"Time",disabled:!1}],xAxisType:[{id:"value",value:"Value",disabled:!1},{id:"category",value:"Category",disabled:!1},{id:"time",value:"Time",disabled:!1}],legendType:[{icon:"circle",value:"Circle"},{icon:"rect",value:"Rectangle"},{icon:"roundRect",value:"Round Rectangle"},{icon:"triangle",value:"Triangle"},{icon:"diamond",value:"Diamond"},{icon:"arrow",value:"Arrow"}],aggregateMethod:[{id:"sum",value:"Sum"},{id:"count",value:"Count"},{id:"Q1",value:"Q1"},{id:"median",value:"Q2 / Median"},{id:"Q3",value:"Q3"},{id:"first",value:"First"},{id:"average",value:"Average"},{id:"min",value:"Min"},{id:"max",value:"Max"}],listName:""},S=function(){function e(){this.flag=!1,this.config={listName:"",title:"",pieSlicenName:"",pieSliceValue:"",type:"",layout:"",dataSource:"",dataSourceValue:"",xAxis:"",yAxis:"",smoothLine:!1,apiUrl:"",area:!1,yAxisDimension:"",radarDimensions:"",addStack:!1,showApiInput:!1,stack:[],stackList:D[""],aggrArr:[],aggrList:A[""],legend:{icon:"",width:330,type:"scroll"},radius:[]},this.chartData=w,this.isGroupByInAggregate=!1,this.isAggrAdded=!1,this.configData=new i.EventEmitter}return e.prototype.ngOnInit=function(){this.aggregationMethods=w.aggregateMethod,this.config.aggrList=[],this.config.legend={}},e.prototype.stackAdded=function(e){this.config.stackList=[],e?(this.config.stackList.push(new D),this.config.stackList.push(new D)):this.config.stackList.length=0},e.prototype.deleteStackValue=function(e,t){this.config.stackList.splice(t,1)},e.prototype.updateStack=function(){this.config.apiUrl&&("bar"===this.config.type&&"stackedBar"===this.config.layout&&(0===this.config.stackList.length?this.config.stack="total":this.config.stackList.length>0?this.config.stack=this.config.stackList:this.config.stack=""),"line"===this.config.type&&"stackedLine"===this.config.layout&&(0===this.config.stackList.length?this.config.stack="total":this.config.stackList.length>0?this.config.stack=this.config.stackList:this.config.stack=""))},e.prototype.addAnotherStack=function(){this.config.stackList.push(new D)},e.prototype.addAnotherAggregate=function(){this.isAggrAdded=!0,this.config.aggrList.push(new A)},e.prototype.deleteAggrValue=function(e,t){this.config.aggrList.splice(t,1),0===this.config.aggrList.length&&(this.isAggrAdded=!1)},e.prototype.onSelection=function(e){var t=this;this.chartData.chartLayout.filter((function(i){e===i.id&&(t.chartLayoutData=i.layout)})),this.config.addStack=!1},e.prototype.onLayoutSelection=function(e){var t,i,o,a,r,n,s,l;if("simpleBar"===e||"stackedBar"===e||"simple"===e||"stacked"===e||"simpleScatter"===e){try{for(var c=f(this.chartData.yAxisType),d=c.next();!d.done;d=c.next()){"category"===(x=d.value).id&&(x.disabled=!0)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}try{for(var p=f(this.chartData.xAxisType),g=p.next();!g.done;g=p.next()){"category"===(x=g.value).id&&(x.disabled=!1)}}catch(e){o={error:e}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}else if("simpleHorizontalBar"===e||"stackedHorizontalBar"===e||"horizontalScatter"===e){try{for(var u=f(this.chartData.yAxisType),m=u.next();!m.done;m=u.next()){"category"===(x=m.value).id&&(x.disabled=!1)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}try{for(var h=f(this.chartData.xAxisType),y=h.next();!y.done;y=h.next()){var x;"category"===(x=y.value).id&&(x.disabled=!0)}}catch(e){s={error:e}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}}},e.prototype.dataSourceSelection=function(e){"API"===e?(this.config.showApiInput=!0,this.config.showDatahubInput=!1):"datahub"===e?(this.config.showDatahubInput=!0,this.config.showApiInput=!1):(this.config.showApiInput=!1,this.config.showDatahubInput=!1)},e.prototype.SubmitData=function(){var e=this;this.config.aggrList.filter((function(t){t.aggrDimesnion===e.config.groupBy?e.isGroupByInAggregate=!0:e.isGroupByInAggregate=!1})),!0===this.config.area?this.config.area={}:this.config.area=null,this.isGroupByInAggregate||this.configData.emit(this.config)},e}();S.decorators=[{type:i.Component,args:[{selector:"lib-smart-chart-config",template:'<div class="form-group">\r\n    <div class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n        \x3c!-- <div class="col-xs-5 col-md-5">\r\n            <label for="title">Chart Title</label>\r\n            <input type="text" class="form-control" name="title" [(ngModel)]="config.title">\r\n        </div> --\x3e\r\n        <div class="col-xs-5 col-md-5">\r\n            <label for="listname">List Name</label>\r\n            <input type="text" class="form-control" name="listname" [(ngModel)]="config.listName">\r\n        </div>\r\n    </div>\r\n    <div class="form-group">\r\n        \x3c!-- <form> --\x3e\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n            <div class="col-xs-2 col-md-2">\r\n                <label for="api" title="API URL" class="c8y-radio radio-inline">\r\n                    <input type="radio" id="api" name="dataSource" value="API"\r\n                        (change)="dataSourceSelection($event.target.value)" [(ngModel)]="config.dataSource">\r\n                    <span></span>\r\n                    <span>API URL</span>\r\n                </label>\r\n            </div>\r\n            <div class="col-xs-2 col-md-2">\r\n                <label for="datahub" title="DataHub" class="c8y-radio radio-inline">\r\n                    <input type="radio" id="datahub" name="dataSource" value="datahub"\r\n                        (change)="dataSourceSelection($event.target.value)" [(ngModel)]="config.dataSource"\r\n                        placeholder="Enter Relative URL">\r\n                    <span></span>\r\n                    <span>DataHub</span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        \x3c!-- </form> --\x3e\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n\r\n            <ng-container *ngIf="config.showApiInput">\r\n                <div class="col-xs-6 col-md-6">\r\n                    <input class="form-control" type="text" placeholder="API URL" [(ngModel)]="config.apiUrl">\r\n                </div>\r\n            </ng-container>\r\n\r\n            <div class="col-xs-6 col-md-6">\r\n                <ng-container *ngIf="config.showDatahubInput">\r\n                    <input class="form-control" type="text" placeholder="Datahub URL" [(ngModel)]="config.apiUrl">\r\n                    <div>\r\n                        <textarea class="form-control" placeholder="Sql Query" rows="3" cols="30"\r\n                            [(ngModel)]="config.sqlQuery">\r\n                        </textarea>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n        <div class="col-xs-5 col-md-5">\r\n            <label for="type">Chart Type</label>\r\n            <div class="c8y-select-wrapper">\r\n                <select id="selectExample" class="form-control" name="type" (change)="onSelection($event.target.value)"\r\n                    [(ngModel)]="config.type">\r\n                    <option *ngFor="let chartType of chartData.chartType" value="{{chartType.id}}">{{chartType.value}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        \x3c!-- dont show div if config.type is scatter or radar --\x3e\r\n        <div *ngIf=" config.type!==\'radar\'" class="col-xs-5 col-md-5">\r\n            <label for="layout">Chart Layout</label>\r\n            <div class="c8y-select-wrapper">\r\n                <select name="layout" id="selectExample" class="form-control" [(ngModel)]="config.layout"\r\n                    (change)="onLayoutSelection($event.target.value)">\r\n                    <option *ngFor="let chartLayout of chartLayoutData" value="{{chartLayout.id}}">{{chartLayout.value}}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div *ngIf="config.type==\'pie\'" class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="listname">PieSliceValue</label>\r\n                <input type="text" class="form-control" name="listname" [(ngModel)]="config.pieSliceValue">\r\n            </div>\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="listname">PieSliceName</label>\r\n                <input type="text" class="form-control" name="listname" [(ngModel)]="config.pieSlicenName">\r\n            </div>\r\n        </div>\r\n        \x3c!-- Pie chart options --\x3e\r\n        <div id="pie-option-conatiner" *ngIf="config.type===\'pie\'" class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="radius">Pie Radius</label>\r\n                <input class="form-control" name="radius" type="text" placeholder="0%,100%" [(ngModel)]="config.radius">\r\n            </div>\r\n        </div>\r\n        <div class="col-md-12 col-xs-12" *ngIf="config.type===\'pie\'">\r\n            <label for="pieConfig">Pie Slice Config</label>\r\n        </div>\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row" *ngIf="config.type===\'pie\'">\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="pieBorderRadius">Border Radius</label>\r\n                <input class="form-control" name="pieBorderRadius" type="number" min=\'0\' max=\'30\' placeholder="0"\r\n                    value="0" [(ngModel)]="config.pieBorderRadius">\r\n            </div>\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="pieBorderWidth">Border Width</label>\r\n                <input class="form-control" name="pieBorderWidth" type="number" min=\'0\' max=\'30\' placeholder="0"\r\n                    value="0" [(ngModel)]="config.pieBorderWidth">\r\n            </div>\r\n        </div>\r\n        \x3c!-- Line Chart configurations for Area Line Chart and Smooth Line Chart --\x3e\r\n        <div *ngIf="config.type===\'line\'" class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n            <div class="col-xs-5 col-md-5">\r\n                <label title="Area" class="c8y-checkbox">\r\n                    <input type="checkbox" value="true" [(ngModel)]="config.area">\r\n                    <span></span>\r\n                    <span>Area</span>\r\n                </label>\r\n            </div>\r\n            <div class="col-xs-5 col-md-5">\r\n                <label title="Smooth Line" class="c8y-checkbox">\r\n                    <input type="checkbox" value="true" [(ngModel)]="config.smoothLine">\r\n                    <span></span>\r\n                    <span>Smooth Line</span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        \x3c!-- dont show div if config.type is pie or radar --\x3e\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row" *ngIf="config.type!==\'pie\'">\r\n            <div class="form-group col-xs-5 col-md-5" *ngIf="config.type!==\'polar\'">\r\n                <label for="xAxisType">X-Axis Type</label>\r\n                <div class="c8y-select-wrapper">\r\n                    <select id="selectExample" class="form-control" name="xAxisType" [(ngModel)]="config.xAxis">\r\n                        <option *ngFor="let type of chartData.xAxisType" value="{{type.id}}" [disabled]=\'type.disabled\'>\r\n                            {{type.value}}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="xAxisDimension">X-Axis Dimension</label>\r\n                <input class="form-control" name="url" type="text" [(ngModel)]="config.xAxisDimension">\r\n            </div>\r\n        </div>\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row" *ngIf="config.type!==\'pie\' && config.type!==\'radar\'">\r\n            <div class="form-group col-md-5 col-xs-5" *ngIf="config.type!==\'polar\'">\r\n                <label for="yAxisType">Y-Axis Type</label>\r\n                <div class="c8y-select-wrapper">\r\n                    <select id="selectExample" class="form-control" name="yAxisType" [(ngModel)]="config.yAxis">\r\n                        <option *ngFor="let type of chartData.yAxisType" value="{{type.id}}" [disabled]=\'type.disabled\'>\r\n                            {{type.value}}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="yAxisDimension">Y-Axis Dimension</label>\r\n                <input class="form-control" name="yAxisDimension" type="text" [(ngModel)]="config.yAxisDimension">\r\n            </div>\r\n        </div>\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row" *ngIf="config.type==\'radar\'">\r\n            <div class="col-xs-5 col-md-5">\r\n                <label for="radarDimensions">Radar Dimensions</label>\r\n                <input class="form-control" name="radarDimensions" type="text" [(ngModel)]="config.radarDimensions">\r\n            </div>\r\n        </div>\r\n        \x3c!-- Dropdown for Aggregation / group by methods  --\x3e\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row"\r\n            *ngIf="config.type===\'pie\'||config.type===\'bar\'||config.type===\'line\' ||config.type===\'polar\' || config.type===\'scatter\' ">\r\n            <div class="col-xs-6 col-md-6 row">\r\n                <div class="col-xs-4 col-md-4">\r\n                    <label for="aggregation">Aggregate Method</label>\r\n                </div>\r\n                <div class="col-xs-2 col-md-2">\r\n                    <button type="button" class="btn btn-primary btn-xs" (click)="addAnotherAggregate()">+</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n            <ng-container *ngFor="let item of config.aggrList;let i = index">\r\n                <div class="row col-xs-12 col-md-12 col-lg-12">\r\n                    <div class="col-xs-2 col-md-2">\r\n                        <label for="aggregateDimension">Dimension </label>\r\n                    </div>\r\n                    <div class="col-xs-2 col-md-2">\r\n                        <input class="form-control" name="aggregateDimension" type="text"\r\n                            [ngClass]="{\'alertInput\': isGroupByInAggregate === true}"\r\n                            [(ngModel)]="config.aggrList[i].aggrDimesnion">\r\n                    </div>\r\n                    <div class="col-xs-2 col-md-2">\r\n                        <label for="aggregation">Method</label>\r\n                    </div>\r\n                    <div class="col-xs-2 col-md-2">\r\n                        <select name="aggregation" id="selectMethod" class="form-control"\r\n                            [(ngModel)]="config.aggrList[i].aggrMethod">\r\n                            <option *ngFor="let method of aggregationMethods" value="{{method.id}}">{{method.value}}\r\n                            </option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="col-xs-2 col-md-2 ">\r\n                        <button class="btn btn-primary btn-xs btn-danger" (click)="deleteAggrValue($event,i)">-</button>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            <div class="form-group col-xs-12 col-md-12 col-lg-12 row" *ngIf="isAggrAdded">\r\n                <div class="col-xs-2 col-md-2">\r\n                    <label for="groupByDimension">Group By</label>\r\n                </div>\r\n                <div class="col-xs-2 col-md-2">\r\n                    <input class="form-control" name="groupByDimension" type="text" [(ngModel)]="config.groupBy">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- Dropdown for Legend Icon --\x3e\r\n        <div class="form-group col-xs-12 col-md-12 row">\r\n            <div class="col-md-5 col-xs-5">\r\n                <label for="legend">Legend Shape</label>\r\n                <div class="c8y-select-wrapper">\r\n                    <select name="legend" id="LegendSelect" class="form-control" [(ngModel)]="config.legend.icon">\r\n                        <option *ngFor="let legendType of chartData.legendType" value="{{legendType.icon}}">\r\n                            {{legendType.value}}\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- For scatter bubble size --\x3e\r\n        <div *ngIf="config.type===\'scatter\'" class="col-xs-12 col-md-12 col-lg-12 row">\r\n            <div class="col-xs-5 col-md-5">\r\n                <label title="Bubble Size" for="symbolSize">Bubble Size</label>\r\n                <input class="form-control" name="symbolSize" type="number" placeholder="Enter a number"\r\n                    [(ngModel)]="config.scatterSymbolSize" min="5" max="20">\r\n            </div>\r\n        </div>\r\n        \x3c!-- stack container --\x3e\r\n        <div id="stack-conatiner" *ngIf="config.type===\'line\' || config.type===\'bar\'"\r\n            class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n            <div id="stack-container" *ngIf="config.layout===\'stacked\' || config.layout===\'stackedBar\'">\r\n                <div class="col-xs-2 col-md-2">\r\n                    <label class="c8y-checkbox checkbox-inline" title="addStack">\r\n                        <input type="checkbox" value="Add Stack" [(ngModel)]="config.addStack"\r\n                            (click)="stackAdded($event.target.checked)">\r\n                        <span></span>\r\n                        <span>Add Stack</span>\r\n                    </label>\r\n                </div>\r\n                <div *ngIf="config.addStack" class="col-xs-2 col-md-2">\r\n                    <button type="button" class="btn btn-primary btn-xs" (click)="addAnotherStack()">Add\r\n                        Another Stack</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf="config.layout===\'stacked\' || config.layout===\'stackedBar\'">\r\n            <div *ngIf="config.addStack">\r\n                <ng-container *ngFor="let item of config.stackList;let i = index">\r\n                    <div class="row col-xs-12 col-md-12 col-lg-12" style="margin-top: 5px;">\r\n                        <div class="col-md-2 col-xs-2">\r\n                            <label for="stackName">Stack Name</label>\r\n                        </div>\r\n                        <div class="col-md-2 col-xs-2">\r\n                            <input class="form-control" name="stackName" type="text"\r\n                                [(ngModel)]="config.stackList[i].stackName">\r\n                        </div>\r\n                        <div class="col-md-2 col-xs-2">\r\n                            <label for="stackValues">Stack Values</label>\r\n                        </div>\r\n                        <div class="col-md-2 col-xs-2">\r\n                            <input class="form-control" name="stackValues" type="text"\r\n                                [(ngModel)]="config.stackList[i].stackValues">\r\n                        </div>\r\n                        <div class="col-md-2 col-xs-2">\r\n                            <button class="btn btn-primary btn-xs btn-danger"\r\n                                (click)="deleteStackValue($event,i)">Delete\r\n                                Stack</button>\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n                <div class="row col-xs-12 col-md-12 col-lg-12">\r\n                    <div class="col-xs-2 col-md-2">\r\n                        <button type="button" class="btn btn-primary btn-xs" (click)="updateStack()">update</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf="config.type===\'line\'  || config.type===\'scatter\'  || config.type===\'bar\'"\r\n            class="form-group col-xs-12 col-md-12 col-lg-12 row">\r\n            <div class="form-group col-xs-5 col-md-5">\r\n                <label title="Slider Zoom" class="c8y-checkbox">\r\n                    <input type="checkbox" value="false" [(ngModel)]="config.sliderZoom">\r\n                    <span></span>\r\n                    <span>Slider Zoom</span>\r\n                </label>\r\n            </div>\r\n            <div class="form-group col-xs-5 col-md-5">\r\n                <label title="Box Zoom" class="c8y-checkbox">\r\n                    <input type="checkbox" value="false" [(ngModel)]="config.boxZoom">\r\n                    <span></span>\r\n                    <span>Box Zoom</span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>',styles:[".alertInput{border:2px solid red}"]}]}],S.ctorParameters=function(){return[]},S.propDecorators={config:[{type:i.Input}],configData:[{type:i.Output}]};var k={id:"smart.echart",label:"Smart eChart",description:"linechart derived from api data",previewImage:"",component:b,configComponent:S,data:{ng1:{options:{noDeviceTarget:!1,noNewWidgets:!1,deviceTargetNotRequired:!0,groupsSelectable:!0}}}},L=function(){};L.decorators=[{type:i.NgModule,args:[{declarations:[b,S],imports:[n.CoreModule,s.NgxEchartsModule.forRoot({echarts:p})],schemas:[i.CUSTOM_ELEMENTS_SCHEMA],providers:[u,{provide:n.HOOK_COMPONENTS,multi:!0,useValue:k}],exports:[b,S],entryComponents:[b,S]}]}],e.GpSmartEchartWidgetComponent=b,e.GpSmartEchartWidgetModule=L,e.GpSmartEchartWidgetService=u,e["ɵ0"]=k,e["ɵa"]=S,e["ɵb"]="",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=custom-widget.umd.min.js.map