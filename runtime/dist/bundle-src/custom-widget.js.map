{"version":3,"file":"custom-widget.js","sources":["../../../../projects/gp-smart-echart-widget/src/lib/gp-smart-echart-widget.service.ts","../../../../projects/gp-smart-echart-widget/src/lib/util/extractValueFromJSON.util.ts","../../../../projects/gp-smart-echart-widget/src/lib/gp-smart-echart-widget.component.ts","../../../../projects/gp-smart-echart-widget/src/lib/preview-image.ts","../../../../projects/gp-smart-echart-widget/src/lib/model/config.modal.ts","../../../../projects/gp-smart-echart-widget/src/lib/smart-chart-config/smart-chart-config.component.ts","../../../../projects/gp-smart-echart-widget/src/lib/gp-smart-echart-widget.module.ts","../../../../projects/gp-smart-echart-widget/src/public-api.ts","../../../../projects/gp-smart-echart-widget/src/custom-widget.ts"],"sourcesContent":["/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GpSmartEchartWidgetService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n  public getAPIData(apiUrl): Observable<any>{\r\n    return this.http.get(apiUrl);\r\n  }\r\n}\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction isObject(obj) {\r\n    return Object.prototype.toString.call(obj) === '[object Object]';\r\n}\r\nexport function extractValueFromJSON(keyArr: Array<string> | string, parent: Record<string, any>) {\r\n    const keysArray = Array.isArray(keyArr) ? keyArr : [keyArr];\r\n    const resultArray = [];\r\n    for (const keyStr of keysArray) {\r\n        const keys = keyStr.split('.');\r\n        let parentRef = parent;\r\n        if (keys.length === 1) {\r\n            resultArray.push(parentRef[keys[0]]);\r\n        } else {\r\n            let result;\r\n            for (let idx = 0; idx < keys.length; idx++) {\r\n                const key = keys[idx];\r\n                result = parentRef[key];\r\n                if (isObject(result)) {\r\n                    parentRef = result;\r\n                } else if (idx < keys.length - 1) {\r\n                }\r\n            }\r\n            resultArray.push(result);\r\n        }\r\n    }\r\n    if (keysArray.length > 1) {\r\n        return resultArray.join(' ');\r\n    }\r\n    return resultArray[0];\r\n}\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { Component, ElementRef, HostListener, Input, OnInit, ViewChild } from '@angular/core';\r\nimport * as echarts from 'echarts';\r\nimport { EChartsOption } from 'echarts';\r\nimport { ChartConfig } from './model/config.modal';\r\nimport { GpSmartEchartWidgetService } from './gp-smart-echart-widget.service';\r\nimport { isDevMode } from '@angular/core';\r\nimport * as simpleTransform from 'echarts-simple-transform';\r\nimport {\r\n  FetchClient,\r\n  Realtime,\r\n} from '@c8y/client';\r\nimport { extractValueFromJSON } from './util/extractValueFromJSON.util';\r\nimport { ResizedEvent } from 'angular-resize-event';\r\n@Component({\r\n  selector: 'lib-gp-smart-echart-widget',\r\n  templateUrl: './gp-smart-echart-widget.component.html',\r\n  styles: ['gp-smart-echart-widget.component.css']\r\n})\r\nexport class GpSmartEchartWidgetComponent implements OnInit {\r\n  @ViewChild('chartBox', { static: true }) protected mapDivRef: ElementRef;\r\n  @Input() config: ChartConfig;\r\n  serviceData;\r\n  seriesData;\r\n  chartData;\r\n  userInput;\r\n  width: number;\r\n  height: number;\r\n  chartOption: EChartsOption = {};\r\n  protected allSubscriptions: any = [];\r\n  realtime = true;\r\n  deviceId = '';\r\n  protected chartDiv: HTMLDivElement;\r\n  isDatahubPostCall = false;\r\n  dataChart;\r\n  colorsForChart;\r\n  constructor(private chartService: GpSmartEchartWidgetService,\r\n     private fetchClient: FetchClient) { }\r\n  ngOnInit(): void {\r\n    this.chartDiv = this.mapDivRef.nativeElement;\r\n    this.createChart(this.config);\r\n  }\r\n  dataFromUser(userInput: ChartConfig) {\r\n    this.createChart(userInput);\r\n  }// end of dataFromUser()\r\n  // create variables for all ChartConfig like value type, apidata from url etc to store the data from user\r\n  // create chart\r\n  reloadData(userInput: ChartConfig) {\r\n    this.createChart(userInput);\r\n  }\r\n  // createChart function is used to create chart with the help of echart library\r\n  async createChart(userInput?: ChartConfig) {\r\n    // const chartDom = document.getElementById('chart-container');\r\n    // const myChart = echarts.init(chartDom);\r\n    this.dataChart = echarts.init(this.chartDiv);\r\n    // const myChart = echarts.init(this.chartDiv);\r\n    this.dataChart.showLoading();\r\n    if (!userInput.colors) {\r\n      if (isDevMode()) { console.log('No colors Specified'); }\r\n      this.colorsForChart = [];\r\n    } else {\r\n      this.colorsForChart = [...userInput.colors.split(',')]\r\n    }\r\n    if (userInput.showApiInput) {\r\n      this.serviceData = await this.chartService.getAPIData(userInput.apiUrl).toPromise();\r\n    } else if (userInput.showDatahubInput) {\r\n      const sqlReqObject = {\r\n        sql: userInput.sqlQuery,\r\n        limit: userInput.sqlLimit,\r\n        format: 'PANDAS'\r\n      };\r\n      const response = await this.fetchClient.fetch(userInput.apiUrl, {\r\n        body: JSON.stringify(sqlReqObject),\r\n        method: 'POST'\r\n      })\r\n      this.serviceData = await response.json();\r\n      this.isDatahubPostCall = true;\r\n    } else {\r\n      if (isDevMode()) { console.log('No Datasource selected'); }\r\n    }\r\n    if (this.serviceData) {\r\n      this.dataChart.hideLoading();\r\n      let axisFontSize = 0;\r\n      if(userInput.fontSize === 0 || userInput.fontSize === '' || userInput.fontSize === null || userInput.fontSize === undefined){\r\n        axisFontSize = 12;\r\n      }else {\r\n        axisFontSize = userInput.fontSize;\r\n      }\r\n      if (userInput.area === true) {\r\n        if(userInput.areaOpacity == null){\r\n          userInput.area = {};\r\n        } else {\r\n          userInput.area = {\r\n            'opacity': userInput.areaOpacity\r\n          };\r\n        }\r\n      }else {\r\n        userInput.area = null;\r\n      }\r\n      if (userInput.aggrList.length === 0 && !this.isDatahubPostCall) {\r\n        // calls for API without Aggregation\r\n        if (userInput.type === 'pie') {\r\n          this.seriesData = this.getPieChartSeriesData(userInput);\r\n          this.chartOption = {\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a = test[0].replace(/([A-Z])/g, ' $1')\r\n                  // uppercase the first character\r\n                  .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            xAxis: {\r\n              show: false,\r\n              boundaryGap: false,\r\n              data: this.serviceData[userInput.listName].map((item) => {\r\n                return item[userInput.xAxisDimension];\r\n              }),\r\n            },\r\n            yAxis: {\r\n              type: 'value',\r\n            },\r\n            tooltip: {\r\n              trigger: 'item',\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          if (isDevMode()) { console.log('Pie Chart For API', this.chartOption); }\r\n          console.log('Pie Chart For API', this.chartOption);\r\n        }\r\n        // End of piechart for API\r\n        else if (userInput.type === 'polar') {\r\n          this.seriesData = this.getPolarChartSeriesData(userInput);\r\n          this.chartOption = {\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            polar: {},\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            angleAxis: {\r\n              type: 'value',\r\n              startAngle: 0\r\n            },\r\n            radiusAxis: {\r\n              min: 0\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          if (isDevMode()) { console.log('Polar Chart For API', this.chartOption); }\r\n        }\r\n        // End of Polar CHart for API\r\n        else if (userInput.type === 'scatter') {\r\n          let xAxisObject; let yAxisObject;\r\n          if (userInput.layout === 'horizontalScatter') {\r\n            xAxisObject = {\r\n              name: this.getFormattedName(userInput.xAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n            };\r\n            yAxisObject = {\r\n              name: this.getFormattedName(userInput.yAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              data: this.serviceData[userInput.listName].map((item) => {\r\n                return item[userInput.yAxisDimension];\r\n              }),\r\n              type: this.getYAxisType(userInput),\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            };\r\n          } else {\r\n            xAxisObject = {\r\n              name: this.getFormattedName(userInput.xAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              data: this.serviceData[userInput.listName].map((item) => {\r\n                return item[userInput.xAxisDimension];\r\n              }),\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n            };\r\n            yAxisObject = {\r\n              name: this.getFormattedName(userInput.yAxisDimension),\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              type: this.getYAxisType(userInput),\r\n              axisLabel:{\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            };\r\n          }\r\n          this.seriesData = this.getScatterChartSeriesData(userInput);\r\n          this.chartOption = {\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            xAxis: xAxisObject,\r\n            yAxis: yAxisObject,\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: userInput.boxZoom,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            series: this.seriesData\r\n          }\r\n          if (isDevMode()) { console.log('Scatter chart for API', this.chartOption) }\r\n        } // End of Scatter Chart for API\r\n        else if (userInput.type === 'radar') {\r\n          this.seriesData = this.getRadarSeriesData(userInput);\r\n          this.chartOption = {\r\n            // title:{\r\n            //   text:userInput.title,\r\n            //   left:'center'\r\n            // },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            tooltip: {\r\n              trigger: 'item',\r\n              confine: true\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            radar: {\r\n              indicator: this.serviceData[userInput.listName].map((item) => {\r\n                return { name: item[userInput.xAxisDimension] };\r\n              }),\r\n              radius: userInput.radarChartRadius\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          if (isDevMode()) { console.log('Radar chart for API', this.chartOption) }\r\n          console.log('Radar chart for API', this.chartOption);\r\n        } // End of Radar CHart for API\r\n        else if ((userInput.type === 'line' || userInput.type === 'bar')\r\n          && (userInput.layout !== 'simpleHorizontalBar' && userInput.layout !== 'stackedHorizontalBar')) {\r\n          this.seriesData = this.getSeriesData(userInput);\r\n          let xAxisName; let yAxisName;\r\n          if (userInput.xAxisDimension.split(',').length > 1) {\r\n            xAxisName = ''\r\n          } else {\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension)\r\n          }\r\n          if (userInput.yAxisDimension.split(',').length > 1) {\r\n            yAxisName = ''\r\n          } else {\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension)\r\n          }\r\n          this.chartOption = {\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            xAxis: {\r\n              data: this.serviceData[userInput.listName].map((item) => {\r\n                return item[userInput.xAxisDimension];\r\n              }),\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n              // name: xAxisName\r\n            },\r\n            yAxis: {\r\n              type: this.getYAxisType(userInput),\r\n              // name: yAxisName\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: userInput.boxZoom,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          };\r\n          if (isDevMode()) { console.log('Simple bar or line chart for API', this.chartOption); }\r\n        }\r\n        // End of Simple Line,Simple Bar,Stacked Line And Stacked Bar for API\r\n        else if (userInput.type === 'bar' && (userInput.layout === 'simpleHorizontalBar' || userInput.layout === 'stackedHorizontalBar')) {\r\n          let xAxisName; let yAxisName;\r\n          if (userInput.xAxisDimension.split(',').length > 1) {\r\n            xAxisName = ''\r\n          } else {\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension)\r\n          }\r\n          if (userInput.yAxisDimension.split(',').length > 1) {\r\n            yAxisName = ''\r\n          } else {\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension)\r\n          }\r\n          this.seriesData = this.getHorizontalSeriesData(userInput);\r\n          this.chartOption =\r\n          {\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left: 'center',\r\n            //   textStyle: {\r\n            //     overflow: 'truncate',\r\n            //   }\r\n            // },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              show: true,\r\n              icon: userInput.legend.icon,\r\n              orient: 'horizontal',\r\n              // top: '10%',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                return a;\r\n              },\r\n              type: 'scroll',\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            xAxis: {\r\n              // name: xAxisName,\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n            },\r\n            yAxis: {\r\n              // name: yAxisName,\r\n              type: this.getYAxisType(userInput),\r\n              data: this.serviceData[userInput.listName].map((item) => {\r\n                const val = extractValueFromJSON(userInput.yAxisDimension, item);\r\n                return val;\r\n              }),\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n          };\r\n          if (isDevMode()) { console.log('Horizontal chart for API', this.chartOption); }\r\n        }\r\n        // End of Horizontal Bar & Stacked Horizontal Bar\r\n      } // End of API calls with JSON Response without Aggregation\r\n      else if (userInput.aggrList.length === 0 && this.isDatahubPostCall) {\r\n        // calls for Datahub without Aggregation\r\n        const resultDimension = this.getResultDimesions(userInput.aggrList, userInput.groupBy);\r\n        let dimensions = [];\r\n        let encodeData;\r\n        const datasetId = null;\r\n        // Format of Data from datahub is\r\n        // Result:[\r\n        //   \"columns\":['colA','colB',...,'colN'],\r\n        //   \"data\":[\r\n        //     [\"A1\",\"B1\",...,\"N1\"],\r\n        //     [\"A2\",\"B2\",...,\"N2\"],\r\n        //     ...,\r\n        //     [\"AN\",\"BN\",...,\"NN\"]\r\n        //   ]\r\n        // ]\r\n        // source of Dataset should be [[columns],[datarows]]\r\n        this.serviceData = [this.serviceData.columns, ...this.serviceData.data]\r\n        // End of Response Data extraction\r\n        if (userInput.type === 'bar' || userInput.type === 'line') {\r\n          dimensions = this.getDatasetDimensions(userInput);\r\n          let yDimensions; let xDimensions;\r\n          let yAxisName = ''; let xAxisName = '';\r\n          if (userInput.yAxisDimension.split(',').length === 1) {\r\n            yDimensions = userInput.yAxisDimension;\r\n            dimensions.push(yDimensions);\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n          } else {\r\n            yDimensions = userInput.yAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...yDimensions];\r\n            yAxisName = '';\r\n          }\r\n          if (userInput.xAxisDimension.split(',').length === 1) {\r\n            xDimensions = userInput.xAxisDimension;\r\n            dimensions.push(xDimensions);\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n          } else {\r\n            xDimensions = userInput.xAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...xDimensions];\r\n            xAxisName = '';\r\n          }\r\n          if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n            dimensions.push(userInput.groupBy)\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                source: this.serviceData\r\n              }\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            xAxis: {\r\n              name: userInput.xAxisDimension,\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              scale: true,\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n            },\r\n            yAxis: {\r\n              type: this.getYAxisType(userInput),\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                },\r\n                saveAsImage: {},\r\n                restore: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          if (isDevMode()) { console.log('Bar or Line chart for Datahub without aggregation', this.chartOption); }\r\n        } // End of Bar,Line Chart without Aggregation for Datahub\r\n        else if (userInput.type === 'scatter') {\r\n          dimensions = this.getDatasetDimensions(userInput);\r\n          if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n            dimensions.push(userInput.groupBy)\r\n          }\r\n          let xAxisName = ''; let yAxisName = '';\r\n          if (userInput.xAxisDimension.split(',').length > 1) {\r\n            xAxisName = '';\r\n          } else {\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n          }\r\n          if (userInput.yAxisDimension.split(',').length > 1) {\r\n            yAxisName = '';\r\n          } else {\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                source: this.serviceData\r\n              }\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            xAxis: {\r\n              name: xAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 50,\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n            },\r\n            yAxis: {\r\n              name: yAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              type: this.getYAxisType(userInput),\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          }\r\n          if (isDevMode()) { console.log('Scatter chart without Aggregation for Datahub', this.chartOption); }\r\n        } // End of Scatter Chart without Aggregation for Datahub\r\n        else if (userInput.type === 'pie') {\r\n          dimensions = [userInput.pieSlicenName, userInput.pieSliceValue];\r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                source: this.serviceData\r\n              },\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            tooltip: {\r\n              trigger: 'item',\r\n              confine: true\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%', \r\n              left: 'left',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          if (isDevMode()) { console.log('Pie chart without Aggregation for Datahub', this.chartOption); }\r\n          console.log('Pie chart without Aggregation for Datahub', this.chartOption);\r\n        } // End of Pie chart without Aggregation for Datahub\r\n        else if (userInput.type === 'polar') {\r\n          let yDimensions; let xDimensions;\r\n          if (userInput.yAxisDimension.split(',').length === 1) {\r\n            yDimensions = userInput.yAxisDimension;\r\n            dimensions.push(yDimensions);\r\n          } else {\r\n            yDimensions = userInput.yAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...yDimensions];\r\n          }\r\n          if (userInput.xAxisDimension.split(',').length === 1) {\r\n            xDimensions = userInput.xAxisDimension;\r\n            dimensions.push(xDimensions);\r\n          } else {\r\n            xDimensions = userInput.xAxisDimension.split(',');\r\n            dimensions = [...dimensions, ...xDimensions];\r\n          }\r\n          if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n            dimensions.push(userInput.groupBy)\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                source: this.serviceData\r\n              },\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            angleAxis: {\r\n              type: 'value',\r\n              startAngle: 0\r\n            },\r\n            radiusAxis: {\r\n              min: 0\r\n            },\r\n            polar: {},\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              left: 'left',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          if (isDevMode()) { console.log('Polar chart without Aggregation for Datahub', this.chartOption); }\r\n        }  // End of Polar Chart Without Aggregation for Datahub\r\n        else if (userInput.type === 'radar') {\r\n          dimensions = [...userInput.radarDimensions];\r\n          this.seriesData = this.getRadarSeriesData(userInput);\r\n          const indexOfXDimension = this.serviceData[0].indexOf(userInput.xAxisDimension);\r\n          const indicatorData = [];\r\n          for (let i = 1; i < this.serviceData.length; i++) {\r\n            indicatorData.push({ name: this.serviceData[i][indexOfXDimension] });\r\n          }\r\n          this.chartOption = {\r\n            // title:{\r\n            //   text:userInput.title,\r\n            //   left:'center'\r\n            // },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              left: 'left',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            tooltip: {\r\n              trigger: 'item',\r\n            },\r\n            radar: {\r\n              indicator: indicatorData,\r\n              radius: userInput.radarChartRadius\r\n            },\r\n            series: this.seriesData,\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            }\r\n          }\r\n          if (isDevMode()) { console.log('Radar Chart without Aggregation for Datahub', this.chartOption); }\r\n          console.log('Radar Chart without Aggregation for Datahub', this.chartOption);\r\n        } // End of Radar Chart without Aggregation for Datahub\r\n      } // ENd of Datahub Calls Response without Aggregation\r\n      else if (userInput.aggrList.length > 0) {\r\n        // calls for API & Datahub with Aggregation\r\n        echarts.registerTransform(simpleTransform.aggregate);\r\n        const resultDimension = this.getResultDimesions(userInput.aggrList, userInput.groupBy);\r\n        let dimensions = [];\r\n        let encodeData;\r\n        const datasetId = '_aggregate';\r\n        // Extract the service data based on the response type of wthere call is made to Datahub or Other API\r\n        if (this.isDatahubPostCall) {\r\n          // Format of Data from datahub is\r\n          // Result:[\r\n          //   \"columns\":['colA','colB',...,'colN'],\r\n          //   \"data\":[\r\n          //     [\"A1\",\"B1\",...,\"N1\"],\r\n          //     [\"A2\",\"B2\",...,\"N2\"],\r\n          //     ...,\r\n          //     [\"AN\",\"BN\",...,\"NN\"]\r\n          //   ]\r\n          // ]\r\n          // source of Dataset should be [[columns],[datarows]]\r\n          this.serviceData = [this.serviceData.columns, ...this.serviceData.data]\r\n        } else {\r\n          // Format of Data from APi calls is JSON object with key,value\r\n          // Result: [\r\n          //   {\r\n          //     \"key1\": \"val1\",\r\n          //     \"key2\": \"val2\",\r\n          //   },\r\n          //   {\r\n          //     \"key1\": \"val1.1\",\r\n          //     \"key2\": \"val2.1\",\r\n          //   }\r\n          // ]\r\n          this.serviceData = this.serviceData[userInput.listName];\r\n        } // End of Response Data extraction\r\n        if (userInput.type === 'bar' || userInput.type === 'line') {\r\n          let yDimensions; let xDimensions;\r\n          let xAxisName = ''; let yAxisName = '';\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            if (userInput.yAxisDimension.split(',').length === 1) {\r\n              yDimensions = userInput.yAxisDimension;\r\n              dimensions.push(yDimensions);\r\n              yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n            } else {\r\n              yDimensions = userInput.yAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...yDimensions];\r\n              yAxisName = '';\r\n            }\r\n            if (userInput.xAxisDimension.split(',').length === 1) {\r\n              xDimensions = userInput.xAxisDimension;\r\n              dimensions.push(xDimensions);\r\n              xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n            } else {\r\n              xDimensions = userInput.xAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...xDimensions];\r\n              xAxisName = '';\r\n            }\r\n            if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n              dimensions.push(userInput.groupBy)\r\n            }\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions:\r\n                        resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              },\r\n              confine: true\r\n            },\r\n            xAxis: {\r\n              name: xAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 30,\r\n              scale: true,\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n            },\r\n            yAxis: {\r\n              type: this.getYAxisType(userInput),\r\n              name: yAxisName,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                },\r\n                saveAsImage: {},\r\n                restore: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          if (isDevMode()) { console.log('Aggregate Bar or Line chart', this.chartOption); }\r\n        } // End of Bar,Line Chart with Aggregation for datahub and API\r\n        else if (userInput.type === 'scatter') {\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            dimensions = this.getDatasetDimensions(userInput);\r\n            if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n              dimensions.push(userInput.groupBy)\r\n            }\r\n          }\r\n          let xAxisName = ''; let yAxisName = '';\r\n          if (userInput.xAxisDimension.split(',').length > 1) {\r\n            xAxisName = '';\r\n          } else {\r\n            xAxisName = this.getFormattedName(userInput.xAxisDimension);\r\n          }\r\n          if (userInput.yAxisDimension.split(',').length > 1) {\r\n            yAxisName = '';\r\n          } else {\r\n            yAxisName = this.getFormattedName(userInput.yAxisDimension);\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions: resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            xAxis: {\r\n              name: xAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 50,\r\n              type: this.getXAxisType(userInput),\r\n              boundaryGap: false,\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.xAxisRotateLabels\r\n              }\r\n            },\r\n            yAxis: {\r\n              name: yAxisName,\r\n              nameLocation: 'middle',\r\n              nameGap: 70,\r\n              type: this.getYAxisType(userInput),\r\n              axisLabel:{\r\n                interval:0,\r\n                fontSize:axisFontSize,\r\n                rotate:userInput.yAxisRotateLabels\r\n              }\r\n            },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            legend: {\r\n              icon: userInput.legend.icon,\r\n              width: 330,\r\n              // top: '10%',\r\n              type: 'scroll',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            dataZoom: this.showZoomFeature(userInput.sliderZoom),\r\n            toolbox: {\r\n              feature: {\r\n                dataZoom: {\r\n                  show: true,\r\n                  yAxisIndex: 'none'\r\n                },\r\n                restore: {},\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          }\r\n          if (isDevMode()) { console.log('Aggregate Scatter chart', this.chartOption); }\r\n        } // End of Scatter Chart with Aggregation for datahub and API\r\n        else if (userInput.type === 'pie') {\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            dimensions = [userInput.pieSlicenName, userInput.pieSliceValue];\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions:\r\n                        resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            tooltip: {\r\n              trigger: 'item',\r\n              confine: true\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            legend: {\r\n              selected: { detail: false },\r\n              type: 'scroll',\r\n              icon: userInput.legend.icon,\r\n              left: 'left',\r\n              // top: '10%',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  // name.split(/(?=[A-Z])/).join(' ');\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          if (isDevMode()) { console.log('Aggregate Pie chart', this.chartOption); }\r\n          console.log('Aggregate Pie chart', this.chartOption);\r\n        } // End of Pie Chart with Aggregation for datahub and API\r\n        else if (userInput.type === 'polar') {\r\n          let yDimensions; let xDimensions;\r\n          if (this.isDatahubPostCall) {\r\n            dimensions = null;\r\n          } else {\r\n            if (userInput.yAxisDimension.split(',').length === 1) {\r\n              yDimensions = userInput.yAxisDimension;\r\n              dimensions.push(yDimensions);\r\n            } else {\r\n              yDimensions = userInput.yAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...yDimensions];\r\n            }\r\n            if (userInput.xAxisDimension.split(',').length === 1) {\r\n              xDimensions = userInput.xAxisDimension;\r\n              dimensions.push(xDimensions);\r\n            } else {\r\n              xDimensions = userInput.xAxisDimension.split(',');\r\n              dimensions = [...dimensions, ...xDimensions];\r\n            }\r\n            if (dimensions.indexOf(userInput.groupBy) === -1) {\r\n              dimensions.push(userInput.groupBy)\r\n            }\r\n          }\r\n          encodeData = this.getEncodeData(userInput, datasetId, xDimensions, yDimensions);\r\n          this.chartOption = {\r\n            dataset: [\r\n              {\r\n                id: 'raw_data',\r\n                dimensions,\r\n                source: this.serviceData\r\n              },\r\n              {\r\n                id: '_aggregate',\r\n                fromDatasetId: 'raw_data',\r\n                transform: [\r\n                  {\r\n                    type: 'ecSimpleTransform:aggregate',\r\n                    config: {\r\n                      resultDimensions:\r\n                        resultDimension,\r\n                      groupBy: userInput.groupBy\r\n                    },\r\n                    print: true\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            // title: {\r\n            //   text: userInput.title,\r\n            //   left:'center',\r\n            // },\r\n            tooltip: {\r\n              trigger: 'axis',\r\n              axisPointer: {\r\n                type: 'cross'\r\n              }\r\n            },\r\n            grid: {\r\n              left: '10%',\r\n              top: '20%',\r\n              right: '10%',\r\n              bottom: '15%',\r\n              containLabel: true\r\n            },\r\n            angleAxis: {\r\n              type: 'value',\r\n              startAngle: 0\r\n            },\r\n            radiusAxis: {\r\n              min: 0\r\n            },\r\n            polar: {},\r\n            legend: {\r\n              selected: { detail: false },\r\n              type: 'scroll',\r\n              icon: userInput.legend.icon,\r\n              left: 'left',\r\n              // top: '10%',\r\n              formatter(name) {\r\n                const test = name.split('.').slice(-1);\r\n                const a =\r\n                  test[0].replace(/([A-Z])/g, ' $1')\r\n                    // uppercase the first character\r\n                    .replace(/^./, (str) => { return str.toUpperCase(); })\r\n                a.trim();\r\n                return a;\r\n              },\r\n            },\r\n            toolbox: {\r\n              feature: {\r\n                saveAsImage: {}\r\n              }\r\n            },\r\n            series: encodeData\r\n          };\r\n          if (isDevMode()) { console.log('Aggregate Polar chart', this.chartOption); }\r\n        }  // End of Polar Chart with Aggregation for datahub and API\r\n      }  // End of calls for API & Datahub with Aggregation\r\n      // End of chartOptions\r\n    } // End of IF condition checking whether variable serviceData has some data or not\r\n  }\r\n  getXAxisType(input) {\r\n    return input.xAxis;\r\n  }\r\n  getYAxisType(input) {\r\n    return input.yAxis;\r\n  }\r\n  getChartType(input) {\r\n    return input.type;\r\n  }\r\n  getFormattedName(input) {\r\n    const test = input.split('.').slice(-1);\r\n    const a = test[0].replace(/([A-Z])/g, ' $1')\r\n      // uppercase the first character\r\n      .replace(/^./, (str) => { return str.toUpperCase(); })\r\n    return a.trim();\r\n  }\r\n  getEncodeData(userInput, datasetId?, xDimensions?, yDimensions?) {\r\n    if (userInput.type === 'polar') {\r\n      return [{\r\n        coordinateSystem: 'polar',\r\n        name: userInput.xAxisDimension,\r\n        type: userInput.layout,\r\n        showSymbol: true,\r\n        encode: {\r\n          radius: userInput.yAxisDimension,\r\n          angle: userInput.xAxisDimension,\r\n          tooltip: [userInput.yAxisDimension, userInput.xAxisDimension]\r\n        },\r\n        label: {\r\n          show: userInput.showLabel\r\n        },\r\n        color: this.colorsForChart,\r\n        emphasis: {\r\n          label: {\r\n            show: true\r\n          },\r\n        },\r\n      }]\r\n    }\r\n    else if (userInput.type === 'scatter') {\r\n      if (userInput.layout === 'horizontalScatter') {\r\n        if (userInput.xAxisDimension.split(',').length === 1) {\r\n          return [{\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            datasetId,\r\n            encode: {\r\n              y: userInput.yAxisDimension,\r\n              x: userInput.xAxisDimension,\r\n              tooltip: [userInput.xAxisDimension, userInput.yAxisDimension]\r\n            },\r\n            color: this.getChartItemColor(0),\r\n          }]\r\n        } else {\r\n          const xAxisDimensions = userInput.xAxisDimension.split(',');\r\n          const xAxisData = [];\r\n          xAxisDimensions.forEach((value, i) => {\r\n            xAxisData[i] = {\r\n              type: userInput.type,\r\n              symbolSize: userInput.scatterSymbolSize,\r\n              datasetId,\r\n              encode: {\r\n                y: userInput.yAxisDimension,\r\n                x: xAxisDimensions[i],\r\n                tooltip: [xAxisDimensions[i], userInput.yAxisDimension]\r\n              },\r\n              label: {\r\n                show: userInput.showLabel\r\n              },\r\n              color: this.getChartItemColor(i),\r\n              emphasis: {\r\n                focus: 'series',\r\n                label: {\r\n                  show: true\r\n                },\r\n                itemStyle: {\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              },\r\n            }\r\n          });\r\n          return xAxisData;\r\n        }// End of else part of XAxisDimension\r\n      } else {\r\n        if (userInput.yAxisDimension.split(',').length === 1) {\r\n          return [{\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            datasetId,\r\n            encode: {\r\n              y: userInput.yAxisDimension,\r\n              x: userInput.xAxisDimension,\r\n              tooltip: [userInput.xAxisDimension, userInput.yAxisDimension]\r\n            },\r\n            color: this.getChartItemColor(0),\r\n            label: {\r\n              show: userInput.showLabel\r\n            },\r\n            emphasis: {\r\n              focus: 'series',\r\n              label: {\r\n                show: true\r\n              },\r\n              itemStyle: {\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            },\r\n          }]\r\n        } else {\r\n          const yAxisDimensions = userInput.yAxisDimension.split(',');\r\n          const yAxisData = [];\r\n          yAxisDimensions.forEach((value, i) => {\r\n            yAxisData[i] = {\r\n              type: userInput.type,\r\n              symbolSize: userInput.scatterSymbolSize,\r\n              datasetId,\r\n              encode: {\r\n                y: userInput.yAxisDimension,\r\n                x: yAxisDimensions[i],\r\n                tooltip: [yAxisDimensions[i], userInput.yAxisDimension]\r\n              },\r\n              color: this.getChartItemColor(i),\r\n              label: {\r\n                show: userInput.showLabel\r\n              },\r\n              emphasis: {\r\n                focus: 'series',\r\n                label: {\r\n                  show: true\r\n                },\r\n                itemStyle: {\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              },\r\n            }\r\n          });\r\n          return yAxisData;\r\n        }// End of else part of YAxisDimension\r\n      }\r\n    }\r\n    else if (userInput.type === 'radar') {\r\n      const dimensions = userInput.radarDimensions.split(',');\r\n      const dimensionRecord = dimensions.reduce((acc, dimension) => {\r\n        acc[dimension] = [];\r\n        return acc;\r\n      }, {});\r\n      this.serviceData[userInput.listName].map((item) => {\r\n        Object.keys(item).forEach(key => {\r\n          if (dimensionRecord[key]) {\r\n            dimensionRecord[key].push(item[key])\r\n          }\r\n        });\r\n      });\r\n      const resultARR = Object.values(dimensionRecord)\r\n      const result1 = Object.keys(dimensionRecord).map((key, i) => ({\r\n        name: key,\r\n        value: dimensionRecord[key],\r\n        itemStyle: {\r\n          color: this.getChartItemColor(i)\r\n        }\r\n      }));\r\n      return [{\r\n        name: userInput.listName,\r\n        type: 'radar',\r\n        data: result1\r\n      }]\r\n    }\r\n    else if (userInput.type === 'bar' && (userInput.layout === 'simpleBar' || userInput.layout === 'stackedBar')) {\r\n      if (userInput.yAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          datasetId,\r\n          name: yDimensions,\r\n          encode: {\r\n            x: xDimensions,\r\n            y: yDimensions\r\n          },\r\n          color: this.getChartItemColor(0)\r\n        }];\r\n      } else {\r\n        const yAxisData = [];\r\n        yDimensions.array.forEach((value, i) => {\r\n          yAxisData[i] = {\r\n            type: userInput.type,\r\n            datasetId,\r\n            stack: this.getStackName(userInput.stack, yDimensions[i]),\r\n            name: yDimensions[i],\r\n            encode: {\r\n              x: xDimensions,\r\n              y: yDimensions[i]\r\n            },\r\n            color: this.getChartItemColor(i)\r\n          }\r\n        }); // end of for block\r\n        return yAxisData;\r\n      }\r\n    }\r\n    else if (userInput.type === 'bar' && (userInput.layout === 'simpleHorizontalBar' || userInput.layout === 'stackedHorizontalBar')) {\r\n      if (userInput.xAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          datasetId,\r\n          name: xDimensions,\r\n          encode: {\r\n            x: xDimensions,\r\n            y: yDimensions\r\n          },\r\n          color: this.getChartItemColor(0)\r\n        }];\r\n      } else {\r\n        const xAxisData = [];\r\n        xDimensions.forEach((value, i) => {\r\n          xAxisData[i] = {\r\n            type: userInput.type,\r\n            datasetId,\r\n            stack: this.getStackName(userInput.stack, xDimensions[i]),\r\n            name: xDimensions[i],\r\n            encode: {\r\n              x: xDimensions[i],\r\n              y: yDimensions\r\n            },\r\n            color: this.getChartItemColor(i)\r\n          }\r\n        }); // end of for block\r\n        return xAxisData;\r\n      }\r\n    }\r\n    else if (userInput.type === 'line') {\r\n      if (userInput.yAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          datasetId,\r\n          smooth: userInput.smoothLine,\r\n          areaStyle: userInput.area,\r\n          name: yDimensions,\r\n          encode: {\r\n            x: xDimensions,\r\n            y: yDimensions\r\n          },\r\n          color: this.getChartItemColor(0)\r\n        }];\r\n      } else {\r\n        const yAxisData = [];\r\n        yDimensions.forEach((value, i) => {\r\n          yAxisData[i] = {\r\n            type: userInput.type,\r\n            datasetId,\r\n            smooth: userInput.smoothLine,\r\n            areaStyle: userInput.area,\r\n            name: yDimensions[i],\r\n            encode: {\r\n              x: xDimensions,\r\n              y: yDimensions[i]\r\n            },\r\n            color: this.getChartItemColor(i)\r\n          }\r\n        }); // end of for block\r\n        return yAxisData;\r\n      }\r\n    }\r\n    else if (userInput.type === 'pie') {\r\n      const convradius = userInput.radius.split(',');\r\n      let roseValue = ''; let sliceStyle;\r\n      if (userInput.layout === 'roseMode') {\r\n        roseValue = 'rose';\r\n      }\r\n      if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius === undefined) {\r\n        sliceStyle = {};\r\n      } else if (userInput.pieBorderWidth > 0 && userInput.pieBorderRadius === undefined) {\r\n        sliceStyle = {\r\n          borderColor: '#fff',\r\n          borderWidth: userInput.pieBorderWidth\r\n        }\r\n      } else if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius > 0) {\r\n        sliceStyle = {\r\n          borderRadius: userInput.pieBorderRadius\r\n        }\r\n      } else {\r\n        sliceStyle = {\r\n          borderRadius: userInput.pieBorderRadius,\r\n          borderColor: '#fff',\r\n          borderWidth: userInput.pieBorderWidth\r\n        }\r\n      }\r\n      return [{\r\n        type: userInput.type,\r\n        datasetId,\r\n        radius: convradius,\r\n        roseType: roseValue,\r\n        avoidLabelOverlap: false,\r\n        label: {\r\n          show: false,\r\n          position: 'center',\r\n        },\r\n        labelLine: {\r\n          show: false\r\n        },\r\n        itemStyle: sliceStyle,\r\n        emphasis: {\r\n          itemStyle: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        },\r\n        name: userInput.pieSliceName,\r\n        encode: {\r\n          itemName: [userInput.pieSlicenName],\r\n          value: userInput.pieSliceValue\r\n        },\r\n        color: this.colorsForChart\r\n      }];\r\n    }\r\n  }\r\n  // getScatterChartSeriesData function is used to create series data for scatter chart\r\n  getScatterChartSeriesData(userInput) {\r\n    if (userInput.layout === 'horizontalScatter') {\r\n      if (userInput.xAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          symbolSize: userInput.scatterSymbolSize,\r\n          data: this.serviceData[userInput.listName].map((item) => {\r\n            return item[userInput.xAxisDimension];\r\n          }),\r\n          itemStyle: {\r\n            color: this.getChartItemColor(0)\r\n          },\r\n          label: {\r\n            show: userInput.showLabel\r\n          },\r\n          emphasis: {\r\n            focus: 'series',\r\n            label: {\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              shadowOffsetX: 0,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          },\r\n        }]\r\n      } else {\r\n        const xAxisDimensions = userInput.xAxisDimension.split(',');\r\n        const xAxisData = [];\r\n        xAxisDimensions.forEach((value, i) => {\r\n          xAxisData[i] = {\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            data: this.serviceData[userInput.listName].map((item) => {\r\n              return item[xAxisDimensions[i]];\r\n            }),\r\n            label: {\r\n              show: userInput.showLabel\r\n            },\r\n            itemStyle: {\r\n              color: this.getChartItemColor(i)\r\n            },\r\n            emphasis: {\r\n              focus: 'series',\r\n              label: {\r\n                show: true\r\n              },\r\n              itemStyle: {\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            },\r\n          }\r\n        }); // end of for loop\r\n        return xAxisData;\r\n      }// End of else part of XAxisDimension\r\n    } else {\r\n      if (userInput.yAxisDimension.split(',').length === 1) {\r\n        return [{\r\n          type: userInput.type,\r\n          symbolSize: userInput.scatterSymbolSize,\r\n          data: this.serviceData[userInput.listName].map((item) => {\r\n            return item[userInput.yAxisDimension];\r\n          }),\r\n          label: {\r\n            show: userInput.showLabel\r\n          },\r\n          itemStyle: {\r\n            color: this.getChartItemColor(0)\r\n          },\r\n          emphasis: {\r\n            focus: 'series',\r\n            label: {\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              shadowOffsetX: 0,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          },\r\n        }]\r\n      } else {\r\n        const yAxisDimensions = userInput.yAxisDimension.split(',');\r\n        const yAxisData = [];\r\n        yAxisDimensions.forEach((value, i) => {\r\n          yAxisData[i] = {\r\n            type: userInput.type,\r\n            symbolSize: userInput.scatterSymbolSize,\r\n            data: this.serviceData[userInput.listName].map((item) => {\r\n              return item[yAxisDimensions[i]];\r\n            }),\r\n            label: {\r\n              show: userInput.showLabel\r\n            },\r\n            itemStyle: {\r\n              color: this.getChartItemColor(i)\r\n            },\r\n            emphasis: {\r\n              focus: 'series',\r\n              label: {\r\n                show: true\r\n              },\r\n              itemStyle: {\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            },\r\n          }\r\n        });\r\n        return yAxisData;\r\n      }// End of else part of YAxisDimension\r\n    }\r\n  }\r\n  // getPolarChartSeriesData function is used to create series data for polar chart\r\n  getPolarChartSeriesData(userInput) {\r\n    const result = [];\r\n    this.serviceData[userInput.listName].map((item) => {\r\n      const currentResult = [];\r\n      currentResult.push(item[userInput.xAxisDimension]);\r\n      currentResult.push(item[userInput.yAxisDimension]);\r\n      result.push(currentResult);\r\n    });\r\n    return [{\r\n      coordinateSystem: 'polar',\r\n      name: userInput.xAxisDimension,\r\n      type: userInput.layout,\r\n      showSymbol: true,\r\n      data: result,\r\n      label: {\r\n        show: userInput.showLabel\r\n      },\r\n      itemStyle: {\r\n        color: this.getChartItemColor(0)\r\n      },\r\n      emphasis: {\r\n        label: {\r\n          show: true\r\n        },\r\n      },\r\n    }]\r\n  }\r\n  // getRadarSeriesData function is used to get the data from service and store it in seriesData variable\r\n  getRadarSeriesData(userInput) {\r\n    const dimensions = userInput.radarDimensions.split(',');\r\n    const dimensionRecord = dimensions.reduce((acc, dimension) => {\r\n      acc[dimension] = [];\r\n      return acc;\r\n    }, {});\r\n    if (userInput.listName in this.serviceData) {\r\n      this.serviceData[userInput.listName].map((item) => {\r\n        Object.keys(item).forEach(key => {\r\n          if (dimensionRecord[key]) {\r\n            dimensionRecord[key].push(item[key])\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      const indexes = dimensions.map((v, index) => {\r\n        const val = v;\r\n        return { key: val, value: this.serviceData[0].indexOf(v) };\r\n      });\r\n      for (let i = 1; i < this.serviceData.length; i++) {\r\n        indexes.forEach(element => {\r\n          dimensionRecord[element.key].push(this.serviceData[i][element.value]);\r\n        });\r\n      }\r\n    }\r\n    const result1 = Object.keys(dimensionRecord).map((key, i) => ({\r\n      name: key,\r\n      value: dimensionRecord[key],\r\n    }));\r\n    if (userInput.listName in this.serviceData) {\r\n      return [{\r\n        name: userInput.listName,\r\n        type: 'radar',\r\n        color: this.colorsForChart,\r\n        data: result1\r\n      }]\r\n    } else {\r\n      return [{\r\n        type: 'radar',\r\n        color: this.colorsForChart,\r\n        data: result1\r\n      }]\r\n    }\r\n  }\r\n  createObject(dataDim, arr, dimen) {\r\n    const dimensions = dimen.split(',');\r\n    const dimensionRecord = dimensions.reduce((acc, dimension) => {\r\n      acc[dimension] = [];\r\n      return acc;\r\n    }, {});\r\n    const indexes = dimensions.map((v, index) => {\r\n      const val = v;\r\n      return { key: val, value: dataDim.indexOf(v) };\r\n    });\r\n    arr.map((item, index) => {\r\n      indexes.keys.forEach(element => {\r\n        dimensionRecord[element.key].push(item[element.value]);\r\n      });\r\n    });\r\n  }\r\n  // getPieChartSeriesData function is used to create series data for pie chart\r\n  getPieChartSeriesData(userInput) {\r\n    // convert comma separated string userInput.radius to array\r\n    const convradius = userInput.radius.split(',');\r\n    let roseValue = ''; let sliceStyle;\r\n    if (userInput.layout === 'roseMode') {\r\n      roseValue = 'rose';\r\n    }\r\n    if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius === undefined) {\r\n      sliceStyle = {}\r\n    }\r\n    else if (userInput.pieBorderWidth > 0 && userInput.pieBorderRadius === undefined) {\r\n      sliceStyle = {\r\n        borderColor: '#fff',\r\n        borderWidth: userInput.pieBorderWidth\r\n      }\r\n    } else if (userInput.pieBorderWidth === undefined && userInput.pieBorderRadius > 0) {\r\n      sliceStyle = {\r\n        borderRadius: userInput.pieBorderRadius\r\n      }\r\n    } else {\r\n      sliceStyle = {\r\n        borderRadius: userInput.pieBorderRadius,\r\n        borderColor: '#fff',\r\n        borderWidth: userInput.pieBorderWidth\r\n      }\r\n    }\r\n    return [{\r\n      name: userInput.listName,\r\n      type: 'pie',\r\n      radius: convradius,\r\n      roseType: roseValue,\r\n      avoidLabelOverlap: false,\r\n      label: {\r\n        show: true,\r\n        position: 'center',\r\n      },\r\n      labelLine: {\r\n        show: false\r\n      },\r\n      itemStyle: sliceStyle,\r\n      emphasis: {\r\n        itemStyle: {\r\n          shadowBlur: 10,\r\n          shadowOffsetX: 0,\r\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n        }\r\n      },\r\n      color: this.colorsForChart,\r\n      data: this.serviceData[userInput.listName].map((item, i) => {\r\n        // take val from userinput.pieslice value and return it\r\n        const val = item[userInput.pieSliceValue];\r\n        let nam;\r\n        if (userInput.pieSliceValue === userInput.pieSlicenName) {\r\n          nam = userInput.pieSlicenName;\r\n        } else {\r\n          nam = item[userInput.pieSlicenName]\r\n        }\r\n        return {\r\n          value: val,\r\n          name: nam,\r\n        }\r\n      }),\r\n    }]\r\n  }\r\n  // getseriesdata recieves userinput and returns seriesdata\r\n  // seriesdata is an array of objects\r\n  getSeriesData(userInput) {\r\n    if (userInput.yAxisDimension.split(',').length === 1) {\r\n      return [{\r\n        name: this.getFormattedName(userInput.yAxisDimension),\r\n        data: this.serviceData[userInput.listName].map((item) => {\r\n          return item[userInput.yAxisDimension];\r\n        }),\r\n        type: userInput.type,\r\n        smooth: userInput.smoothLine,\r\n        areaStyle: userInput.area,\r\n        itemStyle: {\r\n          color: this.getChartItemColor(0)\r\n        }\r\n      }];\r\n    } else {\r\n      const yAxisDimensions = userInput.yAxisDimension.split(',');\r\n      const yAxisData = [];\r\n      yAxisDimensions.forEach((value, i) => {\r\n        let ab = this.getStackName(userInput.stackList, yAxisDimensions[i]);\r\n        yAxisData[i] = {\r\n          name: yAxisDimensions[i],\r\n          stack: this.getStackName(userInput.stackList, yAxisDimensions[i]),\r\n          emphasis: {\r\n            focus: 'series'\r\n          },\r\n          data: this.serviceData[userInput.listName].map((item) => {\r\n            // return val;\r\n            return item[yAxisDimensions[i]];\r\n          }),\r\n          type: userInput.type,\r\n          smooth: userInput.smoothLine,\r\n          areaStyle: userInput.area,\r\n          itemStyle: {\r\n            color: this.getChartItemColor(i)\r\n          }\r\n        }\r\n      }); // end of for block\r\n      return yAxisData;\r\n    }\r\n  }\r\n  getChartItemColor(index) {\r\n    if (this.colorsForChart[index] === undefined) {\r\n      return ''\r\n    } else {\r\n      return this.colorsForChart[index];\r\n    }\r\n  }\r\n  // Gets the dimensions for dataset\r\n  getDatasetDimensions(userInput) {\r\n    let yDimensions; let xDimensions; let dimensionArr = [];\r\n    if (userInput.yAxisDimension.split(',').length === 1) {\r\n      yDimensions = userInput.yAxisDimension;\r\n      dimensionArr.push(yDimensions);\r\n    } else {\r\n      yDimensions = userInput.yAxisDimension.split(',');\r\n      dimensionArr = [...dimensionArr, ...yDimensions];\r\n    }\r\n    if (userInput.xAxisDimension.split(',').length === 1) {\r\n      xDimensions = userInput.xAxisDimension;\r\n      dimensionArr.push(xDimensions);\r\n    } else {\r\n      xDimensions = userInput.xAxisDimension.split(',');\r\n      dimensionArr = [...dimensionArr, ...xDimensions];\r\n    }\r\n    return dimensionArr;\r\n  }\r\n  // if stackdata is empty then return dimensionName\r\n  // else if stackdata is not empty then check if dimensionName is present in stackdata\r\n  // if present then return stackname\r\n  // else return dimensionName\r\n  getStackName(stackData, dimensionName) {\r\n    let result = '';\r\n    stackData.forEach((value, x) => {\r\n      const values = stackData[x].stackValues.split(',');\r\n      values.forEach((element, i) => {\r\n        if (values[i] === dimensionName) {\r\n          result = stackData[x].stackName;\r\n        }\r\n      });\r\n    }); // end of for loop of stackdata\r\n    return result;\r\n  }\r\n  // Get the dimensions and method array for aggregation\r\n  // List comes from aggregate config and conatins both method and dimension name\r\n  // We also need group by to be included as a dimension but without a method\r\n  getResultDimesions(list, groupby) {\r\n    const changedNamesForResult = list.map(({\r\n      aggrDimesnion: from,\r\n      aggrMethod: method\r\n    }) => ({\r\n      from,\r\n      method\r\n    }));\r\n    changedNamesForResult.push({ from: groupby });\r\n    return changedNamesForResult;\r\n  }\r\n  // Method for showing the Slider/Pinch Zoom\r\n  showZoomFeature(val) {\r\n    if (val) {\r\n      return [\r\n        {\r\n          type: 'inside',\r\n          xAxisIndex: 0,\r\n          minSpan: 5\r\n        },\r\n        {\r\n          type: 'slider',\r\n          xAxisIndex: 0,\r\n          minSpan: 5,\r\n          show: true,\r\n          height: 20,\r\n          top: '90%',\r\n        }\r\n      ]\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n  hexToRgb(hex) {\r\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    hex = hex.replace(shorthandRegex, function(m, r, g, b) {\r\n      return r + r + g + g + b + b;\r\n    });\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? \"rgba(\" + parseInt(result[1], 16) + \", \" + parseInt(result[2], 16) + \", \" + parseInt(result[3], 16) + \", \" + 0.8 + \")\" : null;\r\n  }\r\n  // Get data for horizontal Bar chart\r\n  getHorizontalSeriesData(userInput) {\r\n    if (userInput.xAxisDimension.split(',').length === 1) {\r\n      return [{\r\n        name: this.getFormattedName(userInput.xAxisDimension),\r\n        data: this.serviceData[userInput.listName].map((item) => {\r\n          const val = extractValueFromJSON(userInput.xAxisDimension, item);\r\n          return val;\r\n        }),\r\n        itemStyle: {\r\n          color: this.getChartItemColor(0)\r\n        },\r\n        label: {\r\n          show: userInput.showLabel\r\n        },\r\n        emphasis: {\r\n          focus: 'series',\r\n          label: {\r\n            show: true\r\n          },\r\n        },\r\n        type: userInput.type,\r\n        smooth: userInput.smoothLine,\r\n        areaStyle: userInput.area\r\n      }];\r\n    } else {\r\n      const xAxisDimensions = userInput.xAxisDimension.split(',');\r\n      const xAxisData = [];\r\n      xAxisDimensions.forEach((value, i) => {\r\n        xAxisData[i] = {\r\n          name: xAxisDimensions[i],\r\n          stack: this.getStackName(userInput.stack, xAxisDimensions[i]),\r\n          label: {\r\n            show: userInput.showLabel\r\n          },\r\n          emphasis: {\r\n            label: {\r\n              show: true\r\n            },\r\n          },\r\n          data: this.serviceData[userInput.listName].map((item) => {\r\n            const val = extractValueFromJSON(xAxisDimensions[i], item);\r\n            return val;\r\n          }),\r\n          itemStyle: {\r\n            color: this.getChartItemColor(i)\r\n          },\r\n          type: userInput.type,\r\n          smooth: userInput.smoothLine,\r\n          areaStyle: userInput.area\r\n        }\r\n      });// end of for block\r\n      return xAxisData;\r\n    }\r\n  }\r\n  //  @HostListener('window:resize')\r\n  //  onResize() {\r\n  //    console.log(this.dataChart)\r\n  //    if (this.dataChart) {\r\n  //      this.dataChart.resize();\r\n  //    }\r\n  //  }\r\n  onResized(event: ResizedEvent) {\r\n    this.width = event.newWidth;\r\n    this.height = event.newHeight;\r\n    this.dataChart.resize({\r\n      width: this.width,\r\n      height:this.height\r\n    });\r\n  }\r\n}","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nexport const previewImage = '';","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nexport interface ChartConfig {\r\n    radius: string[];\r\n    tooltip?: Tooltip;\r\n    legend?: Legend;\r\n    toolbox?: Toolbox;\r\n    title?: string | '',\r\n    type?: string | '',\r\n    layout?: string | '',\r\n    dataSource?: string | '',\r\n    dataSourceValue?: string | '',\r\n    xAxis?: string | '',\r\n    xAxisDimension?: string | '',\r\n    yAxis?: string | '',\r\n    yAxisDimension: string | '',\r\n    apiUrl?: string | '',\r\n    sqlQuery?:string |'',\r\n    smoothLine?: boolean,\r\n    area?: any | '',\r\n    stackList: Stack[],\r\n    aggrList: AggregateData[],\r\n    stack: Stack[] | string,\r\n    aggrArr: AggregateData[],\r\n    roseType?: string | '',\r\n    showLabel?: boolean,\r\n    dateFormat?:string;\r\n    itemStyle?: ItemStyle,\r\n    emphasis?:Emphasis;\r\n    sliderZoom?:boolean|'';\r\n    boxZoom?:boolean;\r\n    pieSlicenName?:string | '';\r\n    pieSliceValue?:string | '';\r\n    radarShape?:string | '';\r\n    radarIndicator?:string | '';\r\n    radarDimensions?:string | '';\r\n    showApiInput?: boolean;\r\n    showDatahubInput?:boolean;\r\n    addStack: boolean,\r\n    listName:string|'';\r\n    groupBy?:string | '';\r\n    xAxisName?:string | '';\r\n    yAxisName?:string | '';\r\n    scatterSymbolSize?:string;\r\n    pieBorderWidth?:number|0;\r\n    pieBorderRadius?:number|0;\r\n    colors?:string | '';\r\n    areaOpacity?: string | '';\r\n    radarChartRadius?:number|'';\r\n    fontSize?:number|'';\r\n    xAxisRotateLabels?:number;\r\n    yAxisRotateLabels?:number;\r\n    sqlLimit?:number;\r\n    datahubUrl?:string;\r\n}\r\n\r\nexport class Emphasis{\r\n    label?:Label;\r\n}\r\nexport class Label{\r\n    show?:boolean;\r\n}\r\nexport class ItemStyle{\r\n    borderRadius?:number;\r\n}\r\nexport class YAxis{\r\n    ytype?: string;// 'value','category','time','log'\r\n    name?:string;// name of axis\r\n    position?: string;// left or right\r\n}\r\nexport class Tooltip {\r\n    show?: boolean | '';\r\n    trigger?: string | ''; // 'axis' for line or bar chart,'item' for scatter or pie chart\r\n    triggerOn?: string | '';\r\n    borderColor?: string | '';\r\n    borderWidth?: string | '';\r\n    order?: string | '';// values can be 'seriesAsc','seriesDesc','valueAsc','valueDesc'\r\n}\r\n\r\n// To show symbol,color and name of series\r\nexport class Legend {\r\n    show?: boolean | '';\r\n    type?: string | '';// 'plain' is default,'scroll' when many options are in legend\r\n    orient?: string | '';// 'horizontal' or  'vertical'\r\n    icon?: string | '';// shape of legend ; values can be 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'\r\n    selector?: boolean | '';// to show a select all button for legends or not\r\n    top?: string | '';\r\n    width?: number | '';\r\n\r\n}\r\n\r\nexport class Toolbox {\r\n    show?: boolean | '';\r\n    orient?: string | '';// 'horizontal' or  'vertical'\r\n    feature?: Feature;// 'plain' is default,'scroll' when many options are in legend\r\n}\r\n\r\nexport class Stack{\r\n    stackName: string;\r\n    stackValues:string;\r\n}\r\n\r\nexport class AggregateData{\r\n    aggrDimesnion: string;\r\n    aggrMethod:string;\r\n}\r\n\r\nexport class Feature {\r\n    saveAsImage?: any | '';\r\n    magicType?: any | '';\r\n    dataZoom?: any | '';\r\n}\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { Component, EventEmitter, Input, OnInit, Output, Pipe } from '@angular/core';\r\nimport { config } from 'process';\r\nimport { AggregateData, ChartConfig, Stack } from '../model/config.modal';\r\nconst chartValues = {\r\n  chartType: [\r\n\r\n    {\r\n      id: 'bar',\r\n      value: 'Bar Chart'\r\n    },\r\n    {\r\n      id: 'line',\r\n      value: 'Line Chart',\r\n    },\r\n    {\r\n      id: 'pie',\r\n      value: 'Pie Chart'\r\n    },\r\n    {\r\n      id: 'radar',\r\n      value: 'Radar Chart'\r\n    },\r\n    {\r\n      id: 'polar',\r\n      value: 'Polar chart'\r\n    },\r\n    {\r\n      id: 'scatter',\r\n      value: 'Scatter Chart'\r\n    }\r\n  ],\r\n  chartLayout: [\r\n    {\r\n      id: 'line',\r\n      layout: [\r\n        {\r\n          id: 'simple',\r\n          value: 'Simple Line Chart'\r\n        },\r\n        {\r\n          id: 'stacked',\r\n          value: 'Stacked Line Chart'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'polar',\r\n      layout: [\r\n        {\r\n          id: 'line',\r\n          value: 'Line'\r\n        },\r\n        {\r\n          id: 'bar',\r\n          value: 'Bar'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'bar',\r\n      layout: [\r\n        {\r\n          id: 'simpleBar',\r\n          value: 'Simple Bar Chart'\r\n        },\r\n        {\r\n          id: 'stackedBar',\r\n          value: 'Stacked Bar Chart'\r\n        },\r\n        {\r\n          id: 'simpleHorizontalBar',\r\n          value: 'Simple Horizontal Bar Chart'\r\n        },\r\n        {\r\n          id: 'stackedHorizontalBar',\r\n          value: 'Stacked Horizontal Bar Chart'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'pie',\r\n      layout: [\r\n        {\r\n          id: 'simplePie',\r\n          value: 'Simple Pie Chart'\r\n        },\r\n        {\r\n          id: 'roseMode',\r\n          value: 'Rose Chart'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 'scatter',\r\n      layout: [\r\n        {\r\n          id: 'simpleScatter',\r\n          value: 'Simple Scatter Chart'\r\n        },\r\n        {\r\n          id: 'horizontalScatter',\r\n          value: 'Horizontal Scatter Chart'\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  yAxisType: [\r\n    {\r\n      id: 'value',\r\n      value: 'Value',\r\n      disabled:false\r\n    },\r\n    {\r\n      id: 'category',\r\n      value: 'Category',\r\n      disabled:false\r\n\r\n    },\r\n    {\r\n      id: 'time',\r\n      value: 'Time',\r\n      disabled:false\r\n    },\r\n    // {\r\n    //   id: 'log',\r\n    //   value: 'Log',\r\n    //   disabled:false\r\n    // },\r\n  ],\r\n\r\n  xAxisType: [\r\n    {\r\n      id: 'value',\r\n      value: 'Value',\r\n      disabled:false\r\n    },\r\n    {\r\n      id: 'category',\r\n      value: 'Category',\r\n      disabled:false\r\n\r\n    },\r\n    {\r\n      id: 'time',\r\n      value: 'Time',\r\n      disabled:false\r\n    },\r\n    // {\r\n    //   id: 'log',\r\n    //   value: 'Log',\r\n    //   disabled:false\r\n    // },\r\n  ],\r\n  legendType: [\r\n    {\r\n      icon: 'circle',\r\n      value: 'Circle'\r\n    },\r\n    {\r\n      icon: 'rect',\r\n      value: 'Rectangle'\r\n    },\r\n    {\r\n      icon: 'roundRect',\r\n      value: 'Round Rectangle'\r\n    },\r\n    {\r\n      icon: 'triangle',\r\n      value: 'Triangle'\r\n    },\r\n    {\r\n      icon: 'diamond',\r\n      value: 'Diamond'\r\n    },\r\n    {\r\n      icon: 'arrow',\r\n      value: 'Arrow'\r\n    }\r\n  ],\r\n  aggregateMethod: [\r\n    {\r\n      id: 'sum',\r\n      value: 'Sum'\r\n    },\r\n    {\r\n      id: 'count',\r\n      value: 'Count'\r\n    },\r\n    {\r\n      id: 'Q1',\r\n      value: 'Q1'\r\n    },\r\n    {\r\n      id: 'median',\r\n      value: 'Q2 / Median'\r\n    },\r\n    {\r\n      id: 'Q3',\r\n      value: 'Q3'\r\n    },\r\n    {\r\n      id: 'first',\r\n      value: 'First'\r\n    },\r\n    {\r\n      id: 'average',\r\n      value: 'Average'\r\n    },\r\n    {\r\n      id: 'min',\r\n      value: 'Min'\r\n    },\r\n    {\r\n      id: 'max',\r\n      value: 'Max'\r\n    },\r\n  ],\r\n  listName: '',\r\n}\r\n@Component({\r\n  selector: 'lib-smart-chart-config',\r\n  templateUrl: './smart-chart-config.component.html',\r\n  styleUrls: ['./smart-chart-config.component.css']\r\n})\r\n\r\n\r\nexport class SmartChartConfigComponent implements OnInit {\r\n  constructor() { }\r\n  flag = false;\r\n  userSelectedColor=[];\r\n  @Input() config: ChartConfig = {\r\n    listName: '',\r\n    title: '',\r\n    pieSlicenName: '',\r\n    pieSliceValue: '',\r\n    type: '',\r\n    layout: '',\r\n    dataSource: '',\r\n    dataSourceValue: '',\r\n    xAxis: '',\r\n    yAxis: '',\r\n    smoothLine: false,\r\n    apiUrl: '',\r\n    fontSize:12,\r\n    xAxisRotateLabels:0,\r\n    yAxisRotateLabels:0,\r\n    area: false,\r\n    yAxisDimension: '',\r\n    radarDimensions: '',\r\n    addStack: false,\r\n    showApiInput: false,\r\n    stack: [],\r\n    stackList: Stack[''],\r\n    aggrArr: [],\r\n    aggrList: AggregateData[''],\r\n    legend: {\r\n      icon: '',\r\n      width: 330,\r\n      type: 'scroll'\r\n    },\r\n    radius: []\r\n  };\r\n  chartData = chartValues;\r\n  chartLayoutData;\r\n  aggregationMethods;\r\n\r\n  isGroupByInAggregate = false;\r\n  isAggrAdded = false;\r\n  @Output() configData: EventEmitter<any> = new EventEmitter();\r\n  ngOnInit(): void {\r\n    this.aggregationMethods = chartValues.aggregateMethod;\r\n    this.config.aggrList = [];\r\n    this.config.legend={};\r\n     // Default value for datahub sql query\r\n     this.config.datahubUrl = \"service/datahub/sql?version=v1\";\r\n     this.config.sqlLimit = 100;\r\n    // To initialize the chart layout dropdown\r\n    this.onSelection(this.config.type);\r\n  }\r\n\r\n\r\n  // add another stack to the stackList\r\n  // if stackList is empty, add total to the stackList\r\n  // if stackList is not empty, add another stack to the stackList\r\n  stackAdded(stack) {\r\n    this.config.stackList = [];\r\n    if (stack) {\r\n      this.config.stackList.push(new Stack());\r\n      this.config.stackList.push(new Stack());\r\n    } else {\r\n      this.config.stackList.length = 0;\r\n    }\r\n  }\r\n  yAxisDimensionUpdate(val){\r\nconsole.log(val,this.config.yAxisDimension)\r\n  }\r\n  deleteStackValue(stack, index) {\r\n    this.config.stackList.splice(index, 1);\r\n  }\r\n\r\n  // updateStack is called when the user changes the type of chart\r\n  // updateStack is called when the user changes the layout of the chart\r\n  // updateStack is called when the user changes the data source of the chart\r\n  updateStack() {\r\n    if (this.config.apiUrl) {\r\n      if (this.config.type === 'bar') {\r\n        if (this.config.layout === 'stackedBar') {\r\n          if (this.config.stackList.length === 0) {\r\n            this.config.stack = 'total';\r\n          } else if (this.config.stackList.length > 0) {\r\n            this.config.stack = this.config.stackList;\r\n          } else {\r\n            this.config.stack = '';\r\n          }\r\n        }\r\n      }\r\n      if (this.config.type === 'line') {\r\n        if (this.config.layout === 'stackedLine') {\r\n          if (this.config.stackList.length === 0) {\r\n            this.config.stack = 'total';\r\n          } else if (this.config.stackList.length > 0) {\r\n            this.config.stack = this.config.stackList;\r\n          } else {\r\n            this.config.stack = '';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  addAnotherStack() {\r\n    this.config.stackList.push(new Stack());\r\n  }\r\n  addAnotherAggregate() {\r\n    this.isAggrAdded = true;\r\n    this.config.aggrList.push(new AggregateData());\r\n  }\r\n\r\n  deleteAggrValue(aggr, index) {\r\n    this.config.aggrList.splice(index, 1);\r\n    if (this.config.aggrList.length === 0) {\r\n      this.isAggrAdded = false;\r\n    }\r\n  }\r\n  colorUpdate(colorSelected){\r\n    this.userSelectedColor = [...this.userSelectedColor,colorSelected];\r\n    this.config.colors = this.userSelectedColor.join(',')\r\n  }\r\n  colorUpdateByTyping(colorTyped){\r\n    let joinedArr = [...this.userSelectedColor,...colorTyped.split(',')];\r\n    this.userSelectedColor = [...new Set([...joinedArr])]\r\n    \r\n  }\r\n  onSelection(value) {\r\n    this.chartData.chartLayout.filter(val => {\r\n      if (value === val.id) {\r\n        this.chartLayoutData = val.layout;\r\n      }\r\n    })\r\n    this.config.addStack = false;\r\n\r\n  }\r\n  onLayoutSelection(value) {\r\n    if(value==='simpleBar' || value==='stackedBar'|| value==='simple'||value==='stacked' ||value==='simpleScatter'){\r\n      for(const val of this.chartData.yAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=true;\r\n        }\r\n      }\r\n      for(const val of this.chartData.xAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=false;\r\n        }\r\n      }\r\n    }else if(value==='simpleHorizontalBar' || value==='stackedHorizontalBar' || value ==='horizontalScatter'){\r\n      for(const val of this.chartData.yAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=false;\r\n        }\r\n      }\r\n      for(const val of this.chartData.xAxisType){\r\n        if(val.id==='category'){\r\n          val.disabled=true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  dataSourceSelection(value) {\r\n    if (value === 'API') {\r\n      this.config.showApiInput = true;\r\n      this.config.showDatahubInput = false;\r\n\r\n    } else if (value === 'datahub') {\r\n      this.config.showDatahubInput = true;\r\n      this.config.showApiInput = false;\r\n\r\n    } else {\r\n      this.config.showApiInput = false;\r\n      this.config.showDatahubInput = false;\r\n    }\r\n  }\r\n\r\n  // if onSelection, onLayoutSelection, dataSourceSelection is called, then submit data and emit config\r\n  SubmitData() {\r\n    this.config.aggrList.filter(element => {\r\n      if (element.aggrDimesnion === this.config.groupBy) {\r\n        this.isGroupByInAggregate = true;\r\n      } else {\r\n        this.isGroupByInAggregate = false;\r\n      }\r\n    });\r\n    if (this.config.area === true) {\r\n      if(this.config.areaOpacity == null){\r\n        this.config.area = {};\r\n      } else {\r\n        this.config.area = {\r\n          'opacity': this.config.areaOpacity\r\n        };\r\n      }\r\n      \r\n\r\n    }else {\r\n      this.config.area = null;\r\n    }\r\n    if (!this.isGroupByInAggregate) {\r\n      this.configData.emit(this.config);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { CUSTOM_ELEMENTS_SCHEMA, InjectionToken, NgModule } from '@angular/core';\r\nimport { BootstrapComponent, CommonModule, CoreModule, HOOK_COMPONENTS } from '@c8y/ngx-components';\r\nimport { GpSmartEchartWidgetComponent } from './gp-smart-echart-widget.component';\r\nimport * as preview from './preview-image';\r\nimport { NgxEchartsModule } from 'ngx-echarts';\r\nimport { SmartChartConfigComponent } from './smart-chart-config/smart-chart-config.component';\r\nimport { GpSmartEchartWidgetService } from './gp-smart-echart-widget.service';\r\nimport * as echarts from 'echarts';\r\nimport { AngularResizedEventModule } from 'angular-resize-event';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [GpSmartEchartWidgetComponent,SmartChartConfigComponent],\r\n  imports: [\r\n    CoreModule,\r\n    NgxEchartsModule.forRoot({\r\n      echarts\r\n    }),\r\n    AngularResizedEventModule\r\n  ],\r\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\r\n  providers: [\r\n    GpSmartEchartWidgetService,\r\n    {\r\n        provide:  HOOK_COMPONENTS,\r\n        multi: true,\r\n        useValue: {\r\n            id: 'smart.echart',\r\n            label: 'Smart eChart',\r\n            description: 'linechart derived from api data',\r\n            previewImage: preview.previewImage,\r\n            component: GpSmartEchartWidgetComponent,\r\n            configComponent: SmartChartConfigComponent,\r\n            data : {\r\n                ng1 : {\r\n                    options: { noDeviceTarget: false,\r\n                    noNewWidgets: false,\r\n                    deviceTargetNotRequired: true,\r\n                    groupsSelectable: true\r\n                    },\r\n                }\r\n            }\r\n        }\r\n    }],\r\n  exports: [GpSmartEchartWidgetComponent,SmartChartConfigComponent],\r\n  entryComponents: [GpSmartEchartWidgetComponent,SmartChartConfigComponent]\r\n})\r\nexport class GpSmartEchartWidgetModule { }\r\n","/**\r\n * Copyright (c) 2021 Software AG, Darmstadt, Germany and/or its licensors\r\n *\r\n * SPDX-License-Identifier: Apache-2.0\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/*\r\n * Public API Surface of gp-smart-echart-widget\r\n */\r\nexport * from './lib/gp-smart-echart-widget.service';\r\nexport * from './lib/gp-smart-echart-widget.component';\r\nexport * from './lib/gp-smart-echart-widget.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {previewImage as b} from './lib/preview-image';\nexport {SmartChartConfigComponent as a} from './lib/smart-chart-config/smart-chart-config.component';"],"names":["preview.previewImage"],"mappings":"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"}